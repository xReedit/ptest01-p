var cnf_SedeSel,cnf_ComprobanteSel,idSedeSel=0,idComprobanteSel=0;function config_comprobante_add(){config_comprobante_find_row(),$("#form_emision_comprobante #idsede").val(idSedeSel),$("#form_emision_comprobante #idtipo_comprobante").val(idComprobanteSel),xPopupLoad.xopen(),$.post("../../bdphp/ManejoBD_IUD.php?tb=tipo_comprobante_serie",$("#form_emision_comprobante").serialize(),function(o){xPopupLoad.xclose();var e=$("#form_emision_comprobante #idorg").val();$("#form_emision_comprobante").reset(),$("#form_emision_comprobante #idorg").val(e),xPopupLoad.xclose(),config_comprobante_getall()})}function config_comprobante_find_row(){$("#tb_emision_comprobantes .row").each((o,e)=>{e.textContent&&-1<e.textContent.indexOf(this.cnf_ComprobanteSel.descripcion)&&e.textContent.indexOf(this.cnf_SedeSel.nombre)})}function config_comprobante_getall(){$("#tb_emision_comprobantes .row").remove(),$("#tb_emision_comprobantes").append('<tr class="row"><td colspan="4"><paper-spinner active></paper-spinner></td></tr>'),$.ajax({type:"POST",url:"../../bdphp/log.php?op=1607"}).done(function(o){var o=$.parseJSON(o),e="";(o=o.datos).map(o=>{e=String(e+'<tr class="row" data-id="'+o.idtipo_comprobante_serie+'" data-t="tipo_comprobante_serie"><td>'+o.dsc_sede+"</td><td>"+o.dsc_comprobante+"</td><td>"+o.serie+"</td><td>"+o.correlativo+'</td><td><span class="xDeleteRow" title="Borrar" onclick="xDialogBorrarObj(this);"></span></td></tr>')}),$("#tb_emision_comprobantes .row").remove(),$("#tb_emision_comprobantes").append(e).trigger("create")}),this.config_valoresInicialesComponente()}function config_comprobante_update_token(o){var e=$(o).val(),t=$(o).parents(".row").attr("data-id"),o=$(o).parent().attr("data-campo");$.ajax({type:"POST",url:"../../bdphp/log.php?op=2108",data:{campo:o,valor:e,id:t}}).done(function(o){-1!=o.indexOf("Error")&&alert(o)})}function config_comprobante_update_id(o){var e=$(o).val(),t=$(o).parents(".row").attr("data-id"),o=$(o).parent().attr("data-campo");$.ajax({type:"POST",url:"../../bdphp/log.php?op=2108",data:{campo:o,valor:e,id:t}}).done(function(o){-1!=o.indexOf("Error")&&alert(o)})}function _getSede(o){this.cnf_SedeSel=o,this.idSedeSel=o.idsede}function _getComprobante(o){this.cnf_ComprobanteSel=o,this.idComprobanteSel=o.idtipo_comprobante}function config_valoresInicialesComponente(){this.cnf_SedeSel=$("#compFindSede")[0].__data__.sedes,this.cnf_ComprobanteSel=$("#compFindComprobante")[0].__data__.comprobantes,this.idSedeSel=cnf_SedeSel.idsede,this.idComprobanteSel=cnf_ComprobanteSel.idtipo_comprobante}