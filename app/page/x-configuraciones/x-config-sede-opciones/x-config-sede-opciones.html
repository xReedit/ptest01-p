<dom-module id="x-config-sede-opciones"><template><style></style><div class="config-options"><table><tr><td><p class="fs-15 fw-600">Número de Intentos de Cierre:</p><span class="text-secondary">Indique el numero de intentos permitidos para cerrar caja.</span><td><input class="selected-template-1"type="number"id="numIntentos"name="num-intentos"min="0"max="10"value="3"><tr><td><p class="fs-15 fw-600">No permitir cerra caja con cuentas pedientes de que cobrar:</p><span class="text-secondary">Indique si <strong>NO</strong> desea que cierre caja si hay cuentas pendientes de cobrar.</span><td><input type="checkbox"id="allowCierre"name="allow-cierre"><tr><td><p class="fs-15 fw-600">Descontar stock al finalizar el pedido:</p><span class="text-secondary">El stock se descuenta inmediatamente al seleccionar el producto, marque esta opción si desea que se descuente al finalizar o enviar el pedido</span><td><input type="checkbox"id="descuentoStock"name="descuento-stock"><tr><td><p class="fs-15 fw-600">Hora de cierre del dia.</p><span class="text-secondary">Indique la hora en formato 24hrs cuando cerrar dia. Esto es importante para los reportes, Ejemplo: si su horario de atención es hasta las 3am entonces el dia se calculara hasta esa hora, de lo contrario hasta las 0:00</span><td><input class="selected-template-1"type="time"id="horaCierre"name="hora-cierre"></table><br><button class="btn btn-primary"dialog-dismiss on-click="saveInputs">Guardar</button> <button class="btn btn-secondary"dialog-dismiss on-click="cancel">Cancelar</button></div></template><script>Polymer({is:"x-config-sede-opciones",properties:{data:{type:Object,notify:!0}},saveInputs:function(){var e={},t=this.$.numIntentos.value,c=this.$.allowCierre.checked?1:0,s=this.$.descuentoStock.checked?1:0,o=this.$.horaCierre.value;e.switch2=c,e.num_intentos_cierre=t,e.update_stock_after=s,e.hora_cierre=o;(new httpFecht).axiosExecute({type:"POST",url:"../../bdphp/log_componentes.php?op=2205",data:{items:e}}).then(e=>{e.success&&showToastSwal("success","Listo se guardo los datos.")}).catch(e=>{})},loadData:function(e){(new httpFecht).axiosExecute({type:"POST",url:"../../bdphp/log_componentes.php?op=2204",data:{idsede:e}},!1,!1).then(e=>{e.success&&((e=e.datos[0])?(this.data=e,this.$.numIntentos.value=e.num_intentos_cierre,this.$.allowCierre.checked="1"===e.switch2,this.$.descuentoStock.checked="1"===e.update_stock_after,e.hora_cierre=e.hora_cierre_dia&&"0"!=e.hora_cierre_dia?e.hora_cierre_dia:"00:00",e=e.hora_cierre.split(":"),this.$.horaCierre.value=e[0]+":"+e[1]):(this.$.numIntentos.value="3",this.$.allowCierre.checked=!1,this.$.descuentoStock.checked=!1,this.$.horaCierre.value="00:00"))}).catch(e=>{})},ready:function(){},cancel:function(){this.fire("close")}})</script></dom-module>