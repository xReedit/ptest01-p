<dom-module id="x-indicadores-is-caja"><template is="dom"><h3 class="text-secondary">Ingresos / Salidas de Caja {{ ragoTitulo }}</h3><br><div><div class="content-dato"verde="true"><div><p class="fs-15 pb-3">Total de Ingresos<p class="fs-25">S/. {{ dataTotalesCaja.sumImporteIngresosShow }}</div></div><div class="content-dato ml-2"rojo="true"><div><p class="fs-15 pb-3">Total de Salidas<p class="fs-25">S/. {{ dataTotalesCaja.sumImporteSalidasShow }}</div></div></div><br><br><table width="100%"><thead><th>Fecha<th>Tipo<th>Usuario<th>Concepto<th align="right">Importe<tbody><template is="dom-repeat"items="{{listDataCaja}}"as="item"><tr><td>{{ item.fecha }}<td><span class$="[[ item.class_row ]]">{{ item.tipo }}</span><td>{{ item.usuario }}<td>{{ item.motivo }}<td align="right">{{ item.monto }}</template></table></template></dom-module><script>var xThisI2caja,dataIECaja,_dataTotalesCaja={};function loadDataI2Caja(){_dataTotalesCaja={sumImporteIngresosShow:0,sumImporteSalidasShow:0},xPopupLoad.xopen(),$.ajax({type:"POST",url:"../../bdphp/log_005.php?op=4003",data:dataFiltro}).done(function(a){(dataIECaja=JSON.parse(a).datos).map(a=>{a.class_row="2"===a.numtipo?"fw-600 text-danger":"fw-600 text-success"});var a=(xThisI2caja.listDataCaja=dataIECaja).filter(a=>"1"===a.numtipo.toString()).map(a=>parseFloat(a.monto)).reduce((a,t)=>a+t,0),t=dataIECaja.filter(a=>"2"===a.numtipo.toString()).map(a=>parseFloat(a.monto)).reduce((a,t)=>a+t,0);_dataTotalesCaja.sumImporteIngresosShow=numeroConComas(xMoneda(a)),_dataTotalesCaja.sumImporteSalidasShow=numeroConComas(xMoneda(t)),xThisI2caja.dataTotalesCaja=JSON.parse(JSON.stringify(_dataTotalesCaja)),xPopupLoad.xclose()})}Polymer({is:"x-indicadores-is-caja",properties:{ragoSubTitulo:String,ragoTitulo:String,rango:{type:[],notify:!0,reflectToAttribute:!0,observer:"changeRango"},loadata:{type:Boolean,notify:!0,reflectToAttribute:!0,observer:"showData"},listDataCaja:[],dataTotalesCaja:{}},attached:function(){xThisI2caja=this},changeRango:a=>{},showData:()=>{loadDataI2Caja()},detached:function(){}})</script>