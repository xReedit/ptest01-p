<dom-module id="x-home"><template><br><div id="xBodyOp"></div></template></dom-module><script>var xThisHome,xArray_us_home;function xOpenRegistroPedidos(){window.location.href="#/resitro_pedidos"}function xUsExtraer(){XX=window.localStorage.getItem("::app3_woDUS"),AA=window.atob(XX),xaa=JSON.parse(AA),alert(xaa)}function xIniHome(){xLoadAcc(),$("#panel_toolbar").show(),$("body").addClass("loaded"),$("#Titulo_page").text("Inicio"),xm_log_get("ini_us"),xThisHome.xt_org=xIdOrg,xThisHome.xt_idsede=xIdSede,xThisHome.xt_idus=xIdUsuario,$(document).on("click",".xMiBoton_icon",function(o){var a=$(this).attr("data-op");return xOpenPage(a),o.stopPropagation(),o.stopImmediatePropagation(),!1})}function xLoadAcc(){xVerificarAcc()}async function xVerificarAcc(){xArray_us_home=xm_log_get("app3_Us_home"),xper_bd=xm_log_get("app3_woA");var o,a,e=xm_log_get("datos_org_sede"),i=xm_log_get("datos_sede_holding"),t=("1"===e[0].is_holding&&await getHoldingOpcionesCenter(),0<i.length&&await getHoldingOpcionesMarca(),new Array);xper_bd=xper_bd.split(",");for(var r,n=0;n<xper_bd.length;n++){if(xCharFind=xper_bd[n],2===xper_bd.length)return r=xArray_us_home.filter(o=>o.codigo===xCharFind).map(o=>o.num_opcion)[0],void xOneOptionPage(r);for(var d=0;d<xArray_us_home.length;d++)if(xArray_us_home[d].codigo==xCharFind){if(o=xArray_us_home[d].idgrupo,null==t[o]){switch(o){case"0":a="Operatividad";break;case"1":a="Logistica";break;case"2":a="Contable";break;case"3":a="Administracion"}t[o]={titulo:a}}t[o][n]={op:'<div class="xMiBoton_icon" data-id="'+xCharFind+'" data-op="'+xArray_us_home[d].num_opcion+'"><img src="../../images/'+xArray_us_home[d].img+'"><p>'+xArray_us_home[d].titulo+"</p></div>"}}}var s="";for(n in t[t.length-1][-1]={op:'<div class="xMiBoton_icon" data-id="F1" data-op="47"><img src="../../images/_e_facturacion.png"><p>Facturaci√≥n</p></div>'},t)s=String(s+"<div><h3>"+t[n].titulo+'</h3><div class="xLinea2"></div><br>'),$.map(t[n],function(o,a){"object"==typeof o&&(s=String(s+t[n][a].op))}),s=String(s+"</div><br>");$("#xBodyOp").html(s).trigger("create")}async function getHoldingOpcionesMarca(){var o=await $.ajax({type:"POST",url:"../../bdphp/log_010.php?op=get-holding-opciones-marca"}),o=JSON.parse(o);try{addHoldingOpciones(o.datos)}catch(o){}}async function getHoldingOpcionesCenter(){var o=await $.ajax({type:"POST",url:"../../bdphp/log_010.php?op=get-holding-opciones-center"}),o=JSON.parse(o);try{addHoldingOpciones(o.datos)}catch(o){}}function addHoldingOpciones(o){(xper_bd=xper_bd.split(",")).length<4||o.forEach(o=>{xArray_us_home.push(o),xper_bd.push(o.codigo),xper_bd=xper_bd.join(",")})}function abrirToast(){(toast=document.getElementById("toast")).text="aaaaaaaaaaa",toast.show()}Polymer({is:"x-home",properties:{xt_org:Number,xt_idsede:Number,xt_idus:Number},attached:function(){xThisHome=this,xIniHome()},ready:()=>{checkAlertCPESede()}})</script>