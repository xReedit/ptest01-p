async function xCocinarResumenBoletas(){$("#dgl_sunat_img").removeClass("xInvisible"),$("#dgl_sunat_progress").removeClass("xInvisible"),$("#dlg_sunat_btn").addClass("xInvisible"),$("#dgl_sunat_msj").removeClass("xInvisible"),$(".dgl_sunat_msj2").addClass("xInvisible"),$(".dgl_sunat_msj3").text("...");var t="";if("0"!==xm_log_get("datos_org_sede")[0].facturacion_e_activo){$(".dgl_sunat_msj3").text("Verificando comprobantes...");var s=await xSoapSunat_getArrNoRegistrado();let a=!1,e="";for(const _ in s){$(".dgl_sunat_msj3").text("Verificando comprobantes B..."+xCeroIzq(_));try{e=JSON.parse(s[_].json_xml)}catch(a){try{e=JSON.parse(s[_].json_xml.replace(/\n/g,""))}catch(a){break}}var o=await xSoapSunat_EnviarDocumentApi(e,s[_].idce);o.ok||(this.hayError=!0,$("#xTituloRpt").append('<p style="color: red">'+o.msj_error+"</p>")),a}await d("F"),$(".dgl_sunat_msj3").text("Preparando resumen de boletas...");var r=await xSoapSunat_getArrFechaBoletasNoAceptadas();for(const u in r){$(".dgl_sunat_msj3").text("Preparando resumen de boletas..."+xCeroIzq(u));var n=await xSoapSunat_ResumenDiario(r[u].fecha);n.ok||(this.hayError=!0,t=n.msj_error,$("#xTituloRpt").append('<p style="color: red">'+t+"</p>"))}$(".dgl_sunat_msj3").text("Consultando resumen de boletas...");var i=await xSoapSunat_getListTicketResumenBoletas();for(const p in i){$(".dgl_sunat_msj3").text("Consultando resumen de boletas..."+xCeroIzq(p));var l=await xSoapSunat_ConsultarTicketResumen(i[p]);l.ok||(this.hayError=!0,t=l.msj_error,$("#xTituloRpt").append('<p style="color: red">'+t+"</p>"),await d("B"))}this.hayError?dialog_enviando_sunat.close():($(".dgl_sunat_msj3").text("..."),$("#dgl_sunat_img").addClass("xInvisible"),$("#dgl_sunat_progress").addClass("xInvisible"),$("#dlg_sunat_btn").removeClass("xInvisible"),$("#dgl_sunat_msj").addClass("xInvisible"),$(".dgl_sunat_msj2").removeClass("xInvisible"),$("#xTituloRpt").append('<p style="color: blue">Proceso concluido con exito!.</p>'),t="")}return t;async function d(a){var e,t=await xSoapSunat_getArrNoRegistradoSunat();f=!1;for(const s in t)-1===t[s].numero.indexOf(a)||($(".dgl_sunat_msj3").text("Verificando comprobantes "+a+"..."+xCeroIzq(s)),(e=await xSoapSunat_SendSunat(t[s].external_id,t[s].idce)).ok)||(this.hayError=!0,$("#xTituloRpt").append('<p style="color: red">'+e.msj_error+"</p>"))}}