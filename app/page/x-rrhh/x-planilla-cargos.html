<dom-module id="x-planilla-cargos"><template is="dom"><paper-dialog class="dialog_redondo"id="dialog_new_cargo"style="width:345px"modal entry-animation="scale-up-animation"exit-animation="fade-out-animation"><div><h4>Cargo.</h4><br><form id="form_new_cargo"method="POST"><input class="xMiInput xPasarEnter2"placeholder="DESCRIPCION"onchange="conMayusculas(this)"id="descripcion"name="descripcion"value$="[[selCargo.descripcion]]"espaciar required> <input type="number"class="xMiInput xPasarEnter2"placeholder="REMUNERACION BASICA MENSUAL"onchange="conMayusculas(this)"id="remuneracion"name="remuneracion"value$="[[selCargo.remuneracion]]"espaciar required><div class="xInvisible"><input id="idorg"name="idorg"value$="[[xt_org]]"> <input id="idcargo"name="idcargo"value$="[[selCargo.idcargo]]"></div></form><br><br><button dialog-dismiss onclick="newCargo()"class="xBoton2 xVerde">Listo Guardar</button> <button dialog-dismiss class="xBoton2 xRojo">Cerrar</button></div></paper-dialog><div style="max-width:400px"><table width="100%"><thead><th>#<th align="left">Descripcion<th align="right">Remuneracion<th><tbody><template is="dom-repeat"items="{{ListCargos}}"as="item"><tr data-t="cargo"data-id="{{item.idcargo}}"class="animated fadeIn fast xCursor"id="{{index}}"onclick="_selRowCargo(this)"><td data-id="{{index}}"><span>{{displayIndex(index)}}</span><td align="left">{{item.descripcion}}<td align="right">{{item.importe}}<td><span class="xDeleteRow2"title="Anular"onclick="xDialogBorrarObj(this)"></span></template></table><br><button class="xBoton2 xAzul"onclick="dialog_new_cargo.open()">Agregar</button></div></template></dom-module><script>var xThisPCargos;function xIniPCargos(){var o=xm_log_get("app3_us");xThisPCargos.xt_org=o.ido,xThisPCargos.xt_idsede=o.idsede,xThisPCargos.xt_idus=o.idus,getLoadCargo(),$(".xPasarEnter2").on("keyup",function(o){o=o.which;if(13==o||186==o){var o=$("input"),r=o.index(document.activeElement);if(null!==o[r+1]){var a=o[r+1];if(void 0===a)return;if(null==(a=a.disabled?o[r+2]:a))return;a.focus(),a.select()}return!1}})}function getLoadCargo(){$.ajax({type:"GET",url:"../../bdphp/log_005.php?op=5"}).done(o=>{o=JSON.parse(o);console.log(o.datos);xThisPCargos.ListCargos=o.datos})}function newCargo(){$("#form_new_cargo #idorg").val(xThisPCargos.xt_org),$.post("../../bdphp/ManejoBD_IUD.php?tb=cargo",$("#form_new_cargo").serialize(),function(o){xPopupLoad.xclose(),$("#form_new_cargo").reset(),xPopupLoad.xclose(),getLoadCargo(),dialog_new_cargo.close()})}function _selRowCargo(o){var r;dialog_borrar.opened||(r=o.id,o.dataId,xThisPCargos.selCargo=xThisPCargos.ListCargos[r],dialog_new_cargo.open())}Polymer({is:"x-planilla-cargos",properties:{xt_org:Number,xt_idsede:Number,ListCargos:[],selCargo:[]},attached:function(){xThisPCargos=this,xIniPCargos()},displayIndex:function(o){return xCeroIzq(o+1,1)}})</script>