<dom-module id="x-mensajeria"><script src="../../view/socket.service.p.js"></script><template><br><div class="xMiCard xradius"style="width:85%;max-width:1100px"><div class="xEncanezadoCard"style="background:#fff0f5;color:#424242"><h3>Conectarse a WhastApp</h3><span>Para enviar comprobantes y mensajes a sus clientes es necesario conectarse al servicio de mensajeria WhastApp.<br>Siga los siguientes pasos:</span></div><div class="xContentCard"style="height:100%"><h4>Sigue estos simples pasos para conectarse al servicio de mensajeria WhastApp:</h4><ol><li><p>Descargue la aplicacion de mensajeria.<div class="xMiBoton_icon"style="border:1px solid #c5c5c5"><a href="https://www.whatsapp.com/"target="_blank"><img src="../../../images/download_app.png"alt="mensajeria"><p>Descargar Aplicacion Mensajeria</p></a></div></li><br><li><p>Instale la aplicacion de mensajeria. Mire el video de como instalarla.</p><button class="xMiBoton_icon"onclick='window.open("https://www.youtube.com/watch?v=GRAXRqXgCK0","_blank")'><i class="fa fa-youtube"></i> Ver Video</button></li><br><li><p>Coloque el codigo de comercio en la aplicacion de mensajeria.<p class="fw-600">Clic en el codigo de comercio para copiarlo:<div class="xMiBoton_icon fs-20 fw-600 xCursor"style="border:1px solid #c5c5c5"title="Click para copiar"on-click="_copyToClipboard"><div class="d-flexx align-items-center"><span class="mr-1"id="myInput">[[codigoComercio]]</span> <i class="fa fa-copy"></i></div></div><p class="xInvisible text-primary fw-600"id="imputMensaje">Copiado</li><br><li><p>Abra la aplicacion de mensajeria.<div class="xMiBoton_icon"style="border:1px solid #c5c5c5"><a href="http://localhost:7543/"><img src="../../../images/app_mensajeria.png"alt="mensajeria"><p>Aplicacion Mensajeria</p></a></div></ol></div></div></template><script>Polymer({is:"x-mensajeria",properties:{codigoComercio:{type:String,value:""}},attached:function(){xm_log_get("ini_us"),this.codigoComercio=xIdOrg+xIdSede,setTimeout(()=>{this.pingMensajeria()},1e3)},_copyToClipboard:async function(){var o=document.getElementById("myInput").textContent;try{if(navigator.clipboard?.writeText)await navigator.clipboard.writeText(o),this._msjConfirmacionCopiado();else{var e=document.createElement("textarea");if(e.value=o,Object.assign(e.style,{position:"fixed",left:"-9999px",top:"-9999px"}),document.body.appendChild(e),e.select(),!document.execCommand("copy"))throw new Error("execCommand falló");this._msjConfirmacionCopiado(),document.body.removeChild(e)}}catch(e){this._msjConfirmacionCopiado("Error al copiar. Código: "+o,4e3)}},_msjConfirmacionCopiado:function(){showToastSwal("success","Copiado"),document.getElementById("imputMensaje").classList.remove("xInvisible"),setTimeout(()=>{document.getElementById("imputMensaje").classList.add("xInvisible")},2e3)},pingMensajeria:async function(){_cpSocketOpen(),await pingMensajeria(this.codigoComercio)?window.location.href="http://localhost:7543/":showToastSwal("warning","Servicio de mensajería no disponible"),$("body").addClass("loaded")}})</script></dom-module>