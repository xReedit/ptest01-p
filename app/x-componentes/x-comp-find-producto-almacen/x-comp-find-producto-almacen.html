<dom-module id="x-comp-find-producto-almacen"><template is="dom-bind"><div><input class="xMiInput xPasarEnter2 fs-12"onchange="conMayusculas(this)"id="des_item_comp"onkeyup="xloadProductoAlmacenComp(this)"></div></template><script>var xThisCompProductoAlmacen,dtProductosComp,productoSeleted;function xloadProductoAlmacenComp(o){var o=o.value,e=xThisCompProductoAlmacen.idalmacenfiltro||0;o.length<3||$.ajax({type:"POST",url:"../../bdphp/log_componentes.php?op=20",data:{search:o,idfiltro:e}}).done(function(o){o=JSON.parse(o);(dtProductosComp=o.datos).map(o=>{var e=o.label.split(" | ");xThisCompProductoAlmacen.onlynomproducto&&(o.label=e[2]),xThisCompProductoAlmacen.onlynomalmacen&&(o.label=e[0]+" | "+e[2]),xThisCompProductoAlmacen.onlynomfamilia&&(o.label=e[1]+" | "+e[2])}),xCargarProductoItemComp()})}function xCargarProductoItemComp(){xThisCompProductoAlmacen.appendtocmp=xThisCompProductoAlmacen.appendtocmp||"body";var t=$("#des_item_comp");t.autocomplete({autoFocus:!0,source:dtProductosComp,appendTo:$(xThisCompProductoAlmacen.appendtocmp),select:function(o,e){return t.val(e.item.label),t.attr("data-id",e.item.value),productoSeleted=e.item,xThisCompProductoAlmacen.fire("productoSeleted",productoSeleted),!1},focus:function(o,e){return!1},change:function(o,e){return null===e.item?(t.attr("data-value",""),t.attr("data-id",""),xNewItemPro=!0,productoSeleted=null,xThisCompProductoAlmacen.fire("productoSeleted",productoSeleted)):xNewItemPro=!1,!1}})}Polymer({is:"x-comp-find-producto-almacen",properties:{dtProItem:[],idalmacenfiltro:Number,onlynomproducto:Boolean,onlynomalmacen:Boolean,onlynomfamilia:Boolean,appendtocmp:String},attached:function(){xThisCompProductoAlmacen=this},getProductoSeletedAlmacen:()=>productoSeleted,resetText:()=>{des_item_comp.value="",productoSeleted=null},focusText:()=>{des_item_comp.focus()}})</script></dom-module>