<dom-module id="x-comp-find-card"><script src="../../view/httpFech.js"></script><template><style>.card{display:inline-block;margin:1px;padding:5px;border:1px solid #919191;color:#9f9f9f;border-radius:10px;text-align:center;cursor:pointer;user-select:none;font-size:10px;background:#333}.card.selected{border-color:#fff;background-color:#ffc107;color:#000;font-weight:600}</style><template is="dom-repeat"items="{{cards}}"><div class$="{{getClass(index)}}"on-click="selectCard">{{item.descripcion}}</div></template></template><script>Polymer({is:"x-comp-find-card",properties:{cards:{type:Array,value:function(){return[]}},selectedIndex:{type:Number,value:0}},ready:function(){this.loadCards()},listeners:{onChange:"handleOnChange"},handleOnChange:function(e){return e.detail},loadCards:async function(){var t=this;(new httpFecht).axiosExecute({type:"POST",url:"../../bdphp/log_componentes.php?op=3"},!1,!1).then(function(e){t.cards=e.datos,0<e.datos.length&&t.fire("getValorIncial",{categorias:e.datos[0]})}).catch(function(e){})},getClass:function(e){return"card"+(e===this.selectedIndex?" selected":"")},selectCard:function(e){for(var t=Polymer.dom(this.root).querySelectorAll(".card"),a=0;a<t.length;a++)Polymer.dom(t[a]).classList.remove("selected");this.selectedIndex=this.cards.indexOf(e.model.item),Polymer.dom(e.target).classList.add("selected"),e.target.focus(),this.fire("getCategoria",{categorias:e.model.item}),this.fire("onChange",{categorias:e.model.item})},getValorIncial:function(e){this.fire("getValorIncial",{categorias:e})}})</script></dom-module>