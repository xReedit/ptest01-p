<dom-module id="x-comp-handler-pinpad"><template><style></style><table><thead><th align="center"><p class="m-0">Modelo</p><span class="fs-9 text-secondary">Modelo marca del pinpad</span><th align="center"><p class="m-0">SN pinpad</p><span class="fs-9 text-secondary">El SN se encuentra atr√°s del pinpad</span><th align="center"><p class="m-0">Area</p><span class="fs-9 text-secondary">Caja 1, Caja 2...</span><th align="center"><tbody><tr><td align="center"><input onchange="conMayusculas(this)"class="selected-template-1"placeholder="Modelo"id="pinpad_descripcion"><td align="center"><input onchange="conMayusculas(this)"class="selected-template-1"placeholder="SN del dospositivo"id="pinpad_sn"><td align="center"><input onchange="conMayusculas(this)"class="selected-template-1"placeholder="Area"id="pinpad_area"><td align="center"><button class="btn btn-sm btn-primary"on-click="addPinpad">+ Agregar</button></tr><template is="dom-repeat"items="{{pinpads}}"as="pinpad"><tr><td align="center"><p>[[pinpad.descripcion]]<p class="fs-9">[[pinpad.fecha_registro]]<td align="center">[[pinpad.pinpad_sn]]<td align="center">[[pinpad.area]]<td align="center"><button class="btn btn-sm btn-danger"on-click="removePinpad"><i class="fa fa-trash"></i></button></template></table></template><script>Polymer({is:"x-comp-handler-pinpad",properties:{pinpads:{type:Array,value:function(){return[]}},newPinpadSN:{type:String,value:""},newCajaDescripcion:{type:String,value:""}},_asignarPinpad:function(a){a.model.pinpad},addPinpad:function(){var a={descripcion:this.$.pinpad_descripcion.value,pinpad_sn:this.$.pinpad_sn.value,area:this.$.pinpad_area.value};$.ajax({url:"../../bdphp/log_010.php?op=add-pinpad",type:"POST",data:JSON.stringify(a)}).done(function(a){})},removePinpad:async function(a){var a=a.model.pinpad,n=paramsSwalAlert,n=(n.title='<p class="fw-600 fs-20">Borrar PinPad</p>',n.html=`<div class="pb-2" style="display: inline-flex;">                    
                                    <p class="fs-15">Esta seguro de borrar este PinPad <strong>${a.pinpad_sn}</strong><br> Asegurese que ninguna usuario lo este utilizando.</p>
                                </div>`,n.confirmButtonText="Si, borrar",n.showCancelButton=!0,await showAlertSwalHtmlDecision(n,1));n.value&&(this.runRemovePinpad(a),this.getListPinPad())},runRemovePinpad:a=>{$.ajax({url:"../../bdphp/log_010.php?op=remove-pinpad",type:"POST",data:JSON.stringify(a)}).done(function(a){})},ready:function(){this.getListPinPad()},getListPinPad:function(){$.ajax({url:"../../bdphp/log_010.php?op=get-list-pinpad",type:"GET",success:a=>{a=JSON.parse(a);this.pinpads=a.datos},error:function(a){}})}})</script></dom-module>