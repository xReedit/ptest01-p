<dom-module id="x-comp-cierre-lote-pinpad"><template><style>.progress-container paper-progress{width:100%}.message{margin-top:10px;padding:10px;border-radius:5px;text-align:center}.message.success{background-color:#d4edda;color:#155724}.message.error{background-color:#f8d7da;color:#721c24}</style><div class="container"hidden$="[[isHiddenCierreLote]]"><div class="progress-container"hidden$="[[!isLoading]]"><paper-progress indeterminate></paper-progress></div><div class$="message [[messageStatus]]"hidden$="[[!message]]">[[message]]</div></div></template><script>Polymer({is:"x-comp-cierre-lote-pinpad",properties:{isLoading:{type:Boolean,value:!1},message:{type:String,value:""},messageStatus:{type:String,value:""},isHiddenCierreLote:{type:Boolean,value:!0}},runCierreLote:async function(){if(this.set("isLoading",!0),this.set("message",""),this.set("messageStatus",""),"0"==xm_log_get("datos_org_all_sede")[0].is_active_pinpad)return!1;this.isHiddenCierreLote=!1;try{var e=await runPorcesoCierreLotePinPad();e.success?(this.set("message","Pinpad - Cierre de lote realizado correctamente"),this.set("messageStatus","success")):(this.set("message",e.message),this.set("messageStatus","error"))}catch(e){this.set("message","Error inesperado: "+e.message),this.set("messageStatus","error")}finally{this.set("isLoading",!1)}}})</script></dom-module>