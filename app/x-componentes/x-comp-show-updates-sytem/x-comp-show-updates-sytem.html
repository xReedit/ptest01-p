<dom-module id="x-comp-show-updates-sytem"><template><paper-dialog id="dialog_show_change_sys"modal entry-animation="scale-up-animation"exit-animation="fade-out-animation"class="dialog_redondo"with-backdrop><div class="d-flexx justify-content-between align-items-center"><p class="fs-18">Cambios y/o Actualizaciones</p><button class="btn btn-sm btn-secondary"dialog-dismiss><i class="fa fa-close"></i></button></div><div class="pr-3 pl-3 pb-2"><div><div><div><p class="fw-600 fs-18">{{ titulo }}</div><div><p>{{ descripcion }}</div><br><div class="d-flexx"><button class="btn btn-sm btn-secondary mr-2"dialog-dismiss><i class="fa fa-close"></i> Cerrar</button> <button class="btn btn-sm btn-primary"on-click="showRegister">Ver registro de cambios</button></div></div></div></div></paper-dialog></template></dom-module><script>var xThisShowUpdatesSys;function xCompShowUpdatesIni(){$.ajax({type:"POST",url:"../../bdphp/log_componentes.php?op=15"}).done(e=>{e=JSON.parse(e);0!==e.datos.length&&(xThisShowUpdatesSys.counTotalGif=e.datos.length,xThisShowUpdatesSys.listUpdatesSys=e.datos.map(e=>({...e,img:URL_IMG_GIF_UPDATE+e.imagen})),xThisShowUpdatesSys.gifIndexSelected=-1,nextGifNotification(),setTimeout(()=>{dialog_show_change_sys.open(),updateDateusGif()},1500))})}function nextGifNotification(){xThisShowUpdatesSys.gifIndexSelected++,setGifNotification()}function previusGifNotification(){xThisShowUpdatesSys.gifIndexSelected--,setGifNotification()}function setGifNotification(){xThisShowUpdatesSys.gifIndexSelected=xThisShowUpdatesSys.gifIndexSelected<0?0:xThisShowUpdatesSys.gifIndexSelected,xThisShowUpdatesSys.gifIndexSelected=xThisShowUpdatesSys.gifIndexSelected>=xThisShowUpdatesSys.listUpdatesSys.length?xThisShowUpdatesSys.gifIndexSelected-1:xThisShowUpdatesSys.gifIndexSelected,xThisShowUpdatesSys.gifSeleted=xThisShowUpdatesSys.listUpdatesSys[xThisShowUpdatesSys.gifIndexSelected],xThisShowUpdatesSys.gifIndexSelectedShow=xThisShowUpdatesSys.gifIndexSelected+1}function updateDateusGif(){$.ajax({type:"POST",url:"../../bdphp/log_componentes.php?op=1501"}).done(e=>{})}Polymer({is:"x-comp-show-updates-sytem",properties:{listUpdatesSys:[],gifSeleted:{},gifIndexSelected:Number,counTotalGif:Number,gifIndexSelectedShow:Number,titulo:String,descripcion:String,route:String},attached:function(){(xThisShowUpdatesSys=this).callVersionChangelog()},callVersionChangelog:async function(){var e=await(new httpFecht).axiosExecuteJSON({type:"GET",url:"../../bdphp/api.php?route=get-version-changelog",isShowPreload:!1});e.success&&(e=e.data,this.titulo=e.titulo,this.descripcion=e.descripcion,this.route=e.route,this.showDialogChangeSys())},showRegister:function(){window.open("https://blog.papaya.com.pe/changelog/v?page="+this.route,"_blank")},showDialogChangeSys:async function(){var e=paramsSwalAlert,e=(e.html=`<div class="p-1" style="overflow: hidden;"><i class="fa fa-flag fa-2x text-primary" aria-hidden="true"></i>
                                <p class="mt-1 fs-20 text-warning">Actualizaciones</p>
                                <p class="mt-1 fs-18">${this.titulo}</p>
                                <p class="fs-15">${this.descripcion}</p
                                </div>`,e.confirmButtonText="Ver Cambios",e.cancelButtonText="Cerrar",e.showCancelButton=!0,await showAlertSwalHtmlDecision(e));e.value&&this.showRegister()}})</script>