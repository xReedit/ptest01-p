<dom-module id="x-comp-find-item-producto">
<template is="dom-bind">
<div>
<input type="text" class$="[[clasecss]]" onChange="conMayusculas(this)" id="des_item_pro_comp" onkeyup="xloadItemProductoComp(this)">
</div>
</template>
</dom-module>
<script>/*<![CDATA[*/var xThisCompItemProducto,dtItemProductosComp,elementSeleted;function xloadItemProductoComp(obj){xThisCompItemProducto.clasecss=xThisCompItemProducto.clasecss===''?'xTextRow2 xCursor':xThisCompItemProducto.clasecss;const _val=obj.value;const _idFiltro=xThisCompItemProducto.idalmacenfiltro||0;if(_val.length<3){return;}
$.ajax({type:'POST',url:'../../bdphp/log_componentes.php?op=2001',data:{search:_val,idfiltro:_idFiltro}}).done(function(DtItems){var xDtItems=JSON.parse(DtItems);dtItemProductosComp=xDtItems.datos;xCargarProductoItemCartaComp();})}
function xCargarProductoItemCartaComp(){var xPrecio_pro_calc=0;var xObjTxtItemPro=$("#des_item_pro_comp");xObjTxtItemPro.autocomplete({autoFocus:true,source:dtItemProductosComp,select:function(event,ui){xObjTxtItemPro.val(ui.item.label);xObjTxtItemPro.attr('data-id',ui.item.value);elementSeleted=ui.item;xThisCompItemProducto.valueInput=des_item_pro_comp.value;xThisCompItemProducto.fire('elementSeleted',elementSeleted);return false;},focus:function(event,ui){return false;},change:function(event,ui){if(ui.item===null){xObjTxtItemPro.attr('data-value',"");xObjTxtItemPro.attr('data-id',"");xNewItemPro=true;elementSeleted=null;xThisCompItemProducto.valueInput=des_item_pro_comp.value;xThisCompItemProducto.fire('elementSeleted',elementSeleted);}else{xNewItemPro=false;}
return false;}});}
Polymer({is:'x-comp-find-item-producto',properties:{dtProItem:[],idalmacenfiltro:Number,onlynomproducto:Boolean,onlynomalmacen:Boolean,onlynomfamilia:Boolean,valueInput:String,clasecss:String,},attached:function(){xThisCompItemProducto=this;},getelementSeletedAlmacen:()=>{return elementSeleted;},resetText:()=>{des_item_pro_comp.value='';elementSeleted=null;},focusText:()=>{des_item_pro_comp.focus();}})/*]]>*/</script>