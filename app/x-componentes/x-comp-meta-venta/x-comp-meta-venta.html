<dom-module id="x-comp-meta-venta"><template is="dom"><div class="comp-val-num-meta mun-meta fw-600 animate__animated"><p></p><span class$="{{fontsizeSimbol}}">%</span></div></template></dom-module><style>.comp-val-num-meta{display:flex;flex-wrap:nowrap;justify-content:center;align-items:baseline;width:30px;margin:0 auto}</style><script>var xThisComMetaVenta,compLastColorTestMeta="";function xIniCompMetaVenta(){let a="text-danger";xThisComMetaVenta.valNumMeta=0;$.ajax({type:"POST",url:"../../bdphp/log_componentes.php?op=21"}).done(function(e){(e=JSON.parse(e)).success&&($(".comp-val-num-meta").addClass("animate__flash animate__heartBeat"),100<(e=e.datos[0].pct)&&(a="text-info"),80<=e&&e<=100&&(a="text-success"),e<80&&40<=e&&(a="text-warning"),e<40&&(a="text-danger"),$(".comp-val-num-meta").removeClass(compLastColorTestMeta),$(".comp-val-num-meta").addClass(a),e<0?(xThisComMetaVenta.valNumMeta="Fije una meta",$(".comp-val-num-meta span").addClass("xInvisible"),changeValueMetaIndicador(a,compLastColorTestMeta),compLastColorTestMeta=a):($(".comp-val-num-meta").addClass(xThisComMetaVenta.fontsize),xThisComMetaVenta.fontsizeSimbol="fs-"+(xThisComMetaVenta.fontsize.split("-")[1]-7),xThisComMetaVenta.valNumMeta=e,changeValueMetaIndicador(a,compLastColorTestMeta),compLastColorTestMeta=a,setTimeout(()=>{$(".comp-val-num-meta").removeClass("animate__flash animate__heartBeat")},1e3)))})}function changeValueMetaIndicador(t,s){$(".comp-val-num-meta p").each((e,a)=>{a.innerHTML=xThisComMetaVenta.valNumMeta,""!==s&&$(a).parent().removeClass(s),$(a).parent().addClass(t)})}setTimeout(()=>{try{socketCP&&socketCP.isRegistroVenta$.subscribe(e=>{xIniCompMetaVenta()})}catch(e){try{setTimeout(()=>{socketCP.isRegistroVenta$.subscribe(e=>{xIniCompMetaVenta()})},2e3)}catch(e){}}},4e3),Polymer({is:"x-comp-meta-venta",properties:{valNumMeta:String,fontsizeSimbol:String,fontsize:String},attached:function(){xThisComMetaVenta=this,xIniCompMetaVenta()}})</script>