<dom-module id="x-comp-area-mesa"><template><style>.content-areas{padding:7px;background:#cbcbcb;border-radius:8px;display:inline-block}#area-container{display:flex;overflow-x:auto;white-space:nowrap}.area{flex:0 0 auto;margin-right:8px;cursor:pointer;border:1px solid #bdbdbd;border-radius:5px;padding:4px 10px 4px 10px;background:#fff;font-weight:600;color:#7f7f7f}.area.selected{background:#701b9a;color:#fff}.area-count{position:relative;top:-.2em}</style><div class="d-flexx align-items-center content-areas mb-2"hidden$="{{!isShowVisible}}"><div id="area-container"><template is="dom-repeat"items="{{listAreas}}"><div class$="{{getClassForArea(item.idarea_mesa)}}"data-id$="{{item.idarea_mesa}}"on-click="handleClick">{{item.titulo}} <span data-id$="{{item.idarea_mesa}}"class="badge badge-dark ml-2 area-count fw-100"hidden$="{{!getCountForArea(item.idarea_mesa)}}">{{getCountForArea(item.idarea_mesa)}}</span></div></template></div></div></template><script>Polymer({is:"x-comp-area-mesa",properties:{listAreas:{type:Array,value:function(){return[]}},isShowVisible:{type:Boolean,value:!1},selectedArea:{type:Object},areaCounts:{type:Object,value:function(){return{}}}},attached:function(){this.loadAreas()},loadAreas:async function(){var e=await(new httpFecht).axiosExecute({type:"POST",url:"../../bdphp/log_009.php",data:{op:5001}},!0,!1);e.success&&(this.listAreas=e.datos),this.isShowVisible=0<this.listAreas.length,this.isShowVisible&&(this.selectedArea=this.listAreas[0])},handleClick:function(e){for(var t=Polymer.dom(this.root).querySelectorAll(".area"),s=0;s<t.length;s++)Polymer.dom(t[s]).classList.remove("selected");var a=Polymer.dom(e).localTarget.dataset.id;this.selectedArea=this.listAreas.find(e=>e.idarea_mesa==a);let r=Polymer.dom(e).localTarget;(r="SPAN"===r.tagName?r.parentNode:r).classList.add("selected"),this.fire("onChangeTitle",{title:this.selectedArea.title})},getClassForArea:function(e){return"noselect area"+(this.selectedArea.idarea_mesa===e?" selected":"")},getDataListAreas:function(){return this.listAreas},setCountArea:function(e,t){this.set("areaCounts."+e,t),this.listAreas=JSON.parse(JSON.stringify(this.listAreas))},getCountForArea:function(e){return this.get("areaCounts."+e)||0}})</script></dom-module>