<dom-module id="x-comp-date-picker"><template is="dom"><paper-dialog id="dialog_comp_date_picker"class="dialog_redondo animate__animated animate__fadeIn animate__faster"modal="true"entry-animation="scale-up-animation"exit-animation="fade-out-animation"modal><div class="text-center"><div id="input-date-mes"><div class="d-flexx justify-content-between align-content-center"><p class="title-date-comp">Mes</p><input type="month"class="xMiInput input-date-comp"id="comp_date_month"></div></div><div id="input-date-rango"class="xInvisible"><div class="d-flexx justify-content-between align-content-center"><p class="title-date-comp">Desde</p><input type="date"class="xMiInput input-date-comp"id="comp_date_desde"></div><br><div class="d-flexx justify-content-between align-content-center"><p class="title-date-comp">Hasta</p><input type="date"class="xMiInput input-date-comp"id="comp_date_hasta"disabled="disabled"></div></div><div class="pt-4"><button class="btn btn-danger"dialog-dismiss>Cerrar</button> <button class="btn btn-success"onclick="compAplicarDate()">Aplicar</button></div></div></paper-dialog></template><style>.title-date-comp{background:#cdcdcd;padding:6px;border-radius:3px 0 0 3px;margin:0;width:60px}.input-date-comp{padding:4px;border:1px solid #ccc}</style></dom-module><script>var xThisCompDatePicker;function xIniCompDatePicker(){comp_date_month.valueAsDate=new Date;var e=document.getElementById("comp_date_desde");const a=document.getElementById("comp_date_hasta");e.addEventListener("change",function(){var e=new Date(this.value),t=new Date(e),e=(t.setMonth(t.getMonth()-2),new Date(e));e.setMonth(e.getMonth()+2),a.setAttribute("min",t.toISOString().split("T")[0]),a.setAttribute("max",e.toISOString().split("T")[0]),a.disabled=!1})}function compAplicarDate(){switch(xThisCompDatePicker.option_view){case 1:var e=comp_date_month.value.split("-"),t={option:"month",value:comp_date_month.value,num_mm:parseInt(e[1]),num_yy:e[0]};break;case 2:t={option:"range",value1:comp_date_desde.value,value2:comp_date_hasta.value}}xThisCompDatePicker.fire("getDateSelected",t),dialog_comp_date_picker.close()}Polymer({is:"x-comp-date-picker",properties:{option_view:Number},attached:function(){xThisCompDatePicker=this,xIniCompDatePicker()},xopen:e=>{switch(xThisCompDatePicker.option_view=e){case 1:$("#input-date-mes").removeClass("xInvisible"),$("#input-date-rango").addClass("xInvisible");break;case 2:$("#input-date-rango").removeClass("xInvisible"),$("#input-date-mes").addClass("xInvisible")}dialog_comp_date_picker.open()}})</script>