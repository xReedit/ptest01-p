<link rel="import"href="../paper-button/paper-button.html"><link rel="import"href="../paper-styles/paper-styles.html"><link rel="import"href="../neon-animation/neon-animated-pages.html"><link rel="import"href="../neon-animation/neon-animatable.html"><link rel="import"href="../neon-animation/neon-animations.html"><link rel="import"href="../x-dialog/x-dialog.html"><dom-module id="x-slider-encuesta"><link rel="import"type="css"href="x-slider-encuesta.css"><template><x-dialog tiempo="1000"titulo="..."id="xdialog"></x-dialog><template is="dom-bind"id="t"><neon-animated-pages id="pages"class="flex"selected="[[selected]]"entry-animation="[[entryAnimation]]"exit-animation="[[exitAnimation]]"><template is="dom-repeat"items="[[pages]]"><neon-animatable><div class="xContentPregunta"data-id="[[item.ide]]"><div><h3 class="xPregunta">[[item.pregunta]]</h3></div><br><br><template is="dom-repeat"items="[[item.rpts]]"><div><div on-click="buttonClicked"class="xBtnSelect xTransicion3s noselect xPuntero xCursor"data-val="{{item.valor}}"data-idep="[[item.idep]]"><div class="xNum">[[item.num]]</div><div class="xDes">[[item.des]]</div><div class="xIcon"><img src="[[item.iconx]]"></div></div></div></template></div></neon-animatable></template><neon-animatable><h2 class="xFinGracias"><p id="xAgradece"></h2><div id="xImgGracias"class="xCentrado"><img src="../../../images/7-01.png"style="max-width:90%"></div></neon-animatable></neon-animated-pages></template></template><script>var scope,xdialog,xThis,xRpts=new Array;function xObtenerValPregunta(a){a=a.currentTarget,xdialog.open(function(e){var t,s;e&&(e=a.parentNode.parentNode.dataId,t=a.dataIdep,s=a.dataVal,xRpts.push({idp:e,ider:t,val:s}),scope.entryAnimation="slide-from-right-animation",scope.exitAnimation="slide-left-animation",scope.selected=scope.selected===scope.pages.length?0:scope.selected+1,scope.selected==parseInt(scope.pages.length)&&xThis.fire("xFinSlide",{xRpts:xRpts}),xThis.fire("xNextSlide"),a.active=!1)})}Polymer({is:"x-slider-encuesta",properties:{datos:{type:Object},fin_gracias:{type:String,value:"Muschas Gracias, su aporte es muy valioso. Seguiremos trabajando para mejorar nuestro servicio."}},ready:function(){scope=document.querySelector('template[is="dom-bind"]'),xdialog=document.querySelector("x-dialog")},cargar:function(e,t){""!=t&&(this.fin_gracias=t),document.getElementById("xAgradece").innerHTML=this.fin_gracias,scope.selected=0,this.datos=e,scope.pages=this.datos,this.fire("xCountSlide",{cant:parseInt(this.datos.length)+1}),xThis=this,document.querySelector("#t").buttonClicked=function(e){xObtenerValPregunta(e)}},resetear:function(e){setTimeout(function(){xRpts=new Array,scope.selected=0,xThis.fire("xResetear")},e)}})</script></dom-module>