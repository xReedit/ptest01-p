var xIdOrg,xIdSede,xNomU,xMenuArray,xidCategoria,xidCategoriaSeccion,xPopupLoad,xOnlyAccPedido,xArrayPedido=[],xArrayDesTipoConsumo=[],xToglePanel=0,xidCatProcedencia=0,xCount_cant_ico=0,componentsLoadMenu=!1,InitMenu=(window.addEventListener("WebComponentsReady",function(e){this.componentsLoadMenu=!0,console.log("cargado en 4s - WebComponentsReady"),InitMenu.onReady()}),{onReady:function(){console.log("PI onReady"),$("#PanelDe").on("transitionend",InitMenu.PanelDeTransition()),xIniMenAAA(),setGalleta(),listenCookieChange(function(){dialog_inactividad.open()})},PanelDeTransition:()=>{"main"==this.selected&&$("#PanelDe").css("z-index","0")}});function xIniMenAAA(){xVerificarSession(),xPopupLoad=document.getElementById("xLoad"),xm_LogChequea(function(){xm_log_get("ini_us"),xLoadArrayPedidoAquiMenuJS(),xOnlyAccPedido="A2,"==xUsAc_Ini?0:2})}function xOpenPageCarta(e,o){null==o&&(o="");var a="";switch(e){case 0:a="/categoria";break;case 1:a="/menu";break;case 2:a="/sub_menu";break;case 3:a="/mipedido";break;case 4:return window.localStorage.removeItem("::app3_sys_first_load"),void(document.location.href="m_panel.html");case 5:a="/buscar_item_menu"}a+=o,window.localStorage.setItem("::app3_sys_scroll_pos",$(window).scrollTop()),router.go(a),xClosePanelDe()}function xLoadArrayPedidoAquiMenuJS(){null===(xArrayPedido=JSON.parse(window.localStorage.getItem("::app3_sys_dta_pe")))&&(xArrayPedido=[]);for(var e=xm_log_get("estructura_pedido"),o=0;o<e.length;o++)xArrayPedido[e[o].idtipo_consumo]={id:e[o].idtipo_consumo,des:e[o].descripcion,titulo:e[o].titulo},xArrayDesTipoConsumo.push({id:e[o].idtipo_consumo,des:e[o].descripcion,titulo:e[o].titulo});var a=window.localStorage.getItem("::app3_sys_first_load");window.innerWidth<720||null===a?xOpenPageCarta(0):($("body").removeClass("loaded"),setTimeout(()=>{if(-1<window.location.href.indexOf("sub_menu"))xLoadItems();else{if(-1<window.location.href.indexOf("menu"))return;goBack()}$("body").addClass("loaded"),xLoadMipedido()},500)),window.localStorage.setItem("::app3_sys_first_load",1),window.localStorage.setItem("::app3_sys_dta_pe",JSON.stringify(xArrayPedido))}function xScrolUp(e){"0"!=e&&(e=document.getElementById(e).offsetTop),$("#xContenedoPaginas").stop(!0,!0).animate({scrollTop:e},600)}function xScrolUpObj(e){xelement=$(e).offset().top,$("#xContenedoPaginas").stop(!0,!0).animate({scrollTop:xelement},600)}function xOpenPanelDe(){PanelDe.openDrawer(),PanelDe.classList.add("xOnZindexPanelDe")}function xClosePanelDe(){PanelDe.closeDrawer(),PanelDe.classList.remove("xOnZindexPanelDe")}function xArmarMenuLateral(e){var o="",a="";switch(e){case 1:xMenuArray=$.parseJSON(window.localStorage.getItem("::app3_sys_dt_mlc")),0==xOnlyAccPedido?a="":""!=xIdUsuario&&(a='<li onclick="xOpenPageCarta(4)"><p>SALIR AL PANEL </p></li>');break;case 2:xMenuArray=$.parseJSON(window.localStorage.getItem("::app3_sys_dt_mlm"))}if(null!==xMenuArray){for(var n=0;n<xMenuArray.length;n++)o=String(o+'<li data-id="'+xMenuArray[n].id+'" onclick="xVerDetalleMenu('+n+","+e+')"><p>'+xMenuArray[n].des+"</p></li>");o='<ul class="noselect xCursor"><li onclick="btn_lateral_inicio();"><p>INICIO</p></li>'+o+'<li onclick="xOpenPageCarta(3);"><p>VER MI PEDIDO</p></li>'+a+'<li onclick="xCerrarSession();"><p>CERRAR SESSION </p></li></ul>',$(".xBtnPanel ul").remove(),$(".xBtnPanel").append(o).trigger("create")}}function btn_lateral_inicio(){localStorage.removeItem("::app3_sys_descat"),xOpenPageCarta(0)}function xVerDetalleMenu(e,o){var a="sub_menu",n=xMenuArray[e].des;xidCategoriaSeccion=xMenuArray[e].id,xidCatProcedencia=xMenuArray[e].procede,window.localStorage.setItem("::app3_sys_dt_c",n),1==o&&(a="menu"),-1!=location.href.indexOf(a)?2==o&&(xClosePanelDe(),e={i:xidCategoria,s:xidCategoriaSeccion,p:xidCatProcedencia},window.localStorage.setItem("::app3_sys_dt_back",JSON.stringify(e)),xLoadItems()):xOpenPageCarta(o)}function xRegDataLoadBack(){var e={i:xidCategoria,s:xidCategoriaSeccion,p:xidCatProcedencia};window.localStorage.setItem("::app3_sys_dt_back",JSON.stringify(e))}function xCerrarSession(){$("body").removeClass("loaded"),$.ajax({type:"POST",url:"../../bdphp/log.php?op=-103"}).done(function(e){setClearLocalStorage()})}function goBack(){window.history.back()}function xMantenerSession(){restaurarGalleta(),dialog_inactividad.close(),xOpenPageCarta(1)}window.addEventListener("error",function(e){e&&console.log(e)}),window.onload=()=>{setTimeout(()=>{this.componentsLoadMenu||(console.log("cargado en 4s - desde ready"),InitMenu.onReady())},4e3)};