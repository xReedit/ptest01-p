var xIdOrg,xIdSede,xNomU,xMenuArray,xidCategoria,xidCategoriaSeccion,xPopupLoad,xOnlyAccPedido,xArrayPedido=[],xArrayDesTipoConsumo=[],xToglePanel=0,xidCatProcedencia=0,xCount_cant_ico=0,componentsLoadMenu=!1,InitMenu=(window.addEventListener("WebComponentsReady",function(e){this.componentsLoadMenu=!0,InitMenu.onReady()}),{onReady:function(){$("#PanelDe").on("transitionend",InitMenu.PanelDeTransition()),xIniMenAAA(),setGalleta(),listenCookieChange(function(){dialog_inactividad.open()})},PanelDeTransition:()=>{"main"==this.selected&&$("#PanelDe").css("z-index","0")}});function xIniMenAAA(){xVerificarSession(),xPopupLoad=document.getElementById("xLoad"),xm_LogChequea(function(){xm_log_get("ini_us"),xLoadArrayPedidoAquiMenuJS(),xOnlyAccPedido="A2,"==xUsAc_Ini?0:2})}function xOpenPageCarta(e,a){null==a&&(a="");var o="";switch(e){case 0:o="/categoria";break;case 1:o="/menu";break;case 2:o="/sub_menu";break;case 3:o="/mipedido";break;case 4:return window.localStorage.removeItem("::app3_sys_first_load"),void(document.location.href="m_panel.html");case 5:o="/buscar_item_menu"}o+=a,window.localStorage.setItem("::app3_sys_scroll_pos",$(window).scrollTop()),router.go(o),xClosePanelDe()}function xLoadArrayPedidoAquiMenuJS(){null===(xArrayPedido=JSON.parse(window.localStorage.getItem("::app3_sys_dta_pe")))&&(xArrayPedido=[]);for(var e=xm_log_get("estructura_pedido"),a=0;a<e.length;a++)xArrayPedido[e[a].idtipo_consumo]={id:e[a].idtipo_consumo,des:e[a].descripcion,titulo:e[a].titulo},xArrayDesTipoConsumo.push({id:e[a].idtipo_consumo,des:e[a].descripcion,titulo:e[a].titulo});var o=window.localStorage.getItem("::app3_sys_first_load");window.innerWidth<720||null===o?xOpenPageCarta(0):($("body").removeClass("loaded"),setTimeout(()=>{if(-1<window.location.href.indexOf("sub_menu"))xLoadItems();else{if(-1<window.location.href.indexOf("menu"))return;goBack()}$("body").addClass("loaded"),xLoadMipedido()},500)),window.localStorage.setItem("::app3_sys_first_load",1),window.localStorage.setItem("::app3_sys_dta_pe",JSON.stringify(xArrayPedido))}function xScrolUp(e){"0"!=e&&(e=document.getElementById(e).offsetTop),$("#xContenedoPaginas").stop(!0,!0).animate({scrollTop:e},600)}function xScrolUpObj(e){xelement=$(e).offset().top,$("#xContenedoPaginas").stop(!0,!0).animate({scrollTop:xelement},600)}function xOpenPanelDe(){PanelDe.openDrawer(),PanelDe.classList.add("xOnZindexPanelDe")}function xClosePanelDe(){PanelDe.closeDrawer(),PanelDe.classList.remove("xOnZindexPanelDe")}function xArmarMenuLateral(e){var a="",o="";switch(e){case 1:xMenuArray=$.parseJSON(window.localStorage.getItem("::app3_sys_dt_mlc")),0==xOnlyAccPedido?o="":""!=xIdUsuario&&(o='<li onclick="xOpenPageCarta(4)"><p>SALIR AL PANEL </p></li>');break;case 2:xMenuArray=$.parseJSON(window.localStorage.getItem("::app3_sys_dt_mlm"))}if(null!==xMenuArray){for(var n=0;n<xMenuArray.length;n++)a=String(a+'<li data-id="'+xMenuArray[n].id+'" onclick="xVerDetalleMenu('+n+","+e+')"><p>'+xMenuArray[n].des+"</p></li>");a='<ul class="noselect xCursor"><li onclick="btn_lateral_inicio();"><p>INICIO</p></li>'+a+'<li onclick="xOpenPageCarta(3);"><p>VER MI PEDIDO</p></li>'+o+'<li onclick="xCerrarSession();"><p>CERRAR SESSION </p></li></ul>',$(".xBtnPanel ul").remove(),$(".xBtnPanel").append(a).trigger("create")}}function btn_lateral_inicio(){localStorage.removeItem("::app3_sys_descat"),xOpenPageCarta(0)}function xVerDetalleMenu(e,a){var o="sub_menu",n=xMenuArray[e].des;xidCategoriaSeccion=xMenuArray[e].id,xidCatProcedencia=xMenuArray[e].procede,window.localStorage.setItem("::app3_sys_dt_c",n),1==a&&(o="menu"),-1!=location.href.indexOf(o)?2==a&&(xClosePanelDe(),e={i:xidCategoria,s:xidCategoriaSeccion,p:xidCatProcedencia},window.localStorage.setItem("::app3_sys_dt_back",JSON.stringify(e)),xLoadItems()):xOpenPageCarta(a)}function xRegDataLoadBack(){var e={i:xidCategoria,s:xidCategoriaSeccion,p:xidCatProcedencia};window.localStorage.setItem("::app3_sys_dt_back",JSON.stringify(e))}function xCerrarSession(){$("body").removeClass("loaded"),$.ajax({type:"POST",url:"../../bdphp/log.php?op=-103"}).done(function(e){setClearLocalStorage()})}function goBack(){window.history.back()}function xMantenerSession(){restaurarGalleta(),dialog_inactividad.close(),xOpenPageCarta(1)}window.addEventListener("error",function(e){}),window.onload=()=>{setTimeout(()=>{this.componentsLoadMenu||InitMenu.onReady()},4e3)};