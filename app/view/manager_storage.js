function setLocalSotrage(t,e){localStorage.setItem(t,e)}function getLocalStorage(t){return localStorage.getItem(t)}function removeLocalStorage(t){localStorage.removeItem(t)}function removeAllLocalStorage(){localStorage.clear()}function bkLocalStorage(){var e=[];Object.keys(localStorage).forEach(function(t){"::app3_sys_backup"!=t&&"::app3_sys_dta_pe"!=t&&e.push({id:t,content:localStorage.getItem(t)})}),localStorage.setItem("::app3_sys_backup",JSON.stringify(e)),localStorage.setItem("::app3_sys_backup_time",new Date)}function resotreLocalSotrage(){JSON.parse(localStorage.getItem("::app3_sys_backup")).map(t=>{localStorage.getItem(t.id)||setLocalSotrage(t.id,t.content)})}function updateapp3_woDUS_changeSede(t,e){var o=window.localStorage.getItem("::app3_woDUS"),o=window.atob(o),a=(o=JSON.parse(o),atob(o.us._sys_sessid).split(":"));o.us.idorg=t,o.us.idsede=e,a[3]=t,a[4]=e,a=a.join(":"),a=btoa(a),o.us._sys_sessid=a,o=btoa(JSON.stringify(o)),window.localStorage.setItem("::app3_woDUS",o)}function getKeyStorageSolicitud(){return"app3_solicitud"}function saveStorageSolicitudPermisoRemota(t){var e=JSON.parse(localStorage.getItem(getKeyStorageSolicitud()));(e=e||[]).push(t),localStorage.setItem(getKeyStorageSolicitud(),JSON.stringify(e))}function getStorageSolicitudPermisoRemota(){return JSON.parse(localStorage.getItem(getKeyStorageSolicitud()))}async function findStorageSolicudPermisoRemota(t,e){let o=getStorageSolicitudPermisoRemota(),a=findRowStorageSolicudPermisoRemota(t,e,o=o||await findStorageSolicudPermisoRemotaWithRequest());return a||(o=await findStorageSolicudPermisoRemotaWithRequest(),a=findRowStorageSolicudPermisoRemota(t,e,o)),a}function findRowStorageSolicudPermisoRemota(e,o,t){t=t.filter(t=>t.data.tipo_permiso===o);return 0!==t.length&&(t.flatMap(t=>(t.data.idpermiso_remoto=t.idpermiso_remoto,t.data)),1===o?t.flatMap(t=>t.data).find(t=>t.data.idpedido_detalle===e)||!1:2===o?t.flatMap(t=>t.data).find(t=>t.data.some(t=>e.includes(t.idpedidos)))||!1:3===o&&t.flatMap(t=>t.data).find(t=>t.data.idregistro_pago_detalle===e)||!1)}function removeStorageSolicitudPermisoRemota(e){let t=getStorageSolicitudPermisoRemota();t&&(t=t.filter(t=>t.idpermiso_remoto!==e),localStorage.setItem(getKeyStorageSolicitud(),JSON.stringify(t)))}async function findStorageSolicudPermisoRemotaWithRequest(){var t=await(new httpFecht).postJson("../../bdphp/log_009.php?op=4001",null);return t.success?(t.datos.map(t=>(t.data=JSON.parse(t.data),t)),localStorage.setItem(getKeyStorageSolicitud(),JSON.stringify(t.datos)),t.datos):[]}