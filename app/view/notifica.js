var pAudioNotifica;function pNotificaPago(t){var o,i,e=pTimeNow(),a={nummesa:t.mesa,nom_cliente:t.objCliente.nombres,importe:parseFloat(t.importe).toFixed(2),brand:t.objTransaction.brand};void 0===window.stackBottomRight&&(window.stackBottomRight={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25}),t.objTransaction.error?(o=PNotify.error({text:"<strong>Pago Denegado.</strong><br><strong>"+t.objTransaction.descripcion+"</strong> mesa <strong>"+a.nummesa+"</strong> "+a.nom_cliente+" Esta intentanto pagar <strong> S/. "+a.importe+"</strong>",textTrusted:!0,hide:!1,stack:window.stackBottomRight,modules:{History:{maxInStack:5}}})).on("click",function(){o.close()}):(i=(i=a.nummesa?" La Mesa "+xCeroIzq(a.nummesa,2):"")||(t.isdelivery?" Pedido Delivery ":" Pedido Para LLevar "),PNotify.success({title:"Pago por Aplicacion",text:e+"<strong>"+i+"</strong> <p>"+a.nom_cliente+"</p><p> Pagó con tarjeta desde la aplicación el importe de: <strong>S/. "+a.importe+"</strong> </p>",textTrusted:!0,hide:!1,stack:window.stackBottomRight,modules:{Confirm:{confirm:!0,buttons:[{text:"Listo",primary:!0,click:function(t){t.close()}}]}}})),PlaySound("notificaPagoCliente")}function pNotificaPersonal(t){var o=pTimeNow(),i=(void 0===window.stackBottomRight&&(window.stackBottomRight={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25}),PNotify.notice({text:o+" Mesa <span><strong>"+t+"</strong> solicita atención.",textTrusted:!0,hide:!1,stack:window.stackBottomRight,modules:{History:{maxInStack:5}}}));i.on("click",function(){i.close()}),PlaySound("notificaLlamadoCliente")}function pNotificaSolicitudAceptada(t){void 0===window.stackBottomRight&&(window.stackBottomRight={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25});var t="<strong>Solicitud Aceptada</strong><br>"+t.solicitud,o=PNotify.success({text:t,textTrusted:!0,hide:!1,stack:window.stackBottomRight,modules:{History:{maxInStack:5}}});o.on("click",function(){o.close()}),PlaySound("notificaLlamadoCliente")}function pNotificaNuevoPedido(t){var o,i,e,a,n;t&&t.p_header&&0!==t.p_header.isCliente&&(t.p_header.m=t.p_header.m||"",o=t.p_header.r,e=1===t.p_header.delivery?"fa fa-motorcycle":"fa fa-shopping-bag",i=1===t.p_header.delivery?"Delivery":"Para LLevar",i=""===t.p_header.m?i:"Mesa "+xCeroIzq(t.p_header.m,2),e=""===t.p_header.m?e:"fa fa-cutlery",t=t.p_subtotales[t.p_subtotales.length-1].importe,a=pTimeNow(),void 0===window.stackBottomRight&&(window.stackBottomRight={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25}),(n=PNotify.notice({text:a+" Pedido APP <span><strong>"+i+' <i class="'+e+'"></i></strong><p>'+o+" <span><strong> S/."+t+"</strong></p>",textTrusted:!0,delay:3e4,closer:!0,stack:window.stackBottomRight,modules:{History:{maxInStack:5}}})).on("click",function(){n.close()}),PlaySound("notificaNuevoPedido"))}function pTimeNow(){var t=new Date;return(t.getHours()<10?"0":"")+t.getHours()+":"+((t.getMinutes()<10?"0":"")+t.getMinutes())}function PlaySound(t){(pAudioNotifica=document.getElementById(t)).autobuffer=!0,pAudioNotifica.muted=!1,pAudioNotifica.load(),pAudioNotifica.play()}