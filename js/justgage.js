function kvLookup(t,e,i,o,n,a){var r=o,l=!1;if(null!=t&&(null!=i&&"object"==typeof i&&t in i?(r=i[t],l=!0):null!=e&&"object"==typeof e&&t in e?(r=e[t],l=!0):r=o,!0===l)&&null!=n)switch(n){case"int":r=parseInt(r,10);break;case"float":r=parseFloat(r)}return r}function getColor(t,e,i,o,n){var a,r,l,c,u,f,m,g,s,d,p,o=o||0<n.length;if(0<n.length)for(var h=0;h<n.length;h++)if(t>n[h].lo&&t<=n[h].hi)return n[h].color;if(1===(a=i.length))return i[0];for(r=o?1/a:1/(a-1),l=[],h=0;h<i.length;h++)c=o?r*(h+1):r*h,u=parseInt(cutHex(i[h]).substring(0,2),16),f=parseInt(cutHex(i[h]).substring(2,4),16),m=parseInt(cutHex(i[h]).substring(4,6),16),l[h]={pct:c,color:{r:u,g:f,b:m}};if(0===e)return"rgb("+[l[0].color.r,l[0].color.g,l[0].color.b].join(",")+")";for(var v=0;v<l.length;v++)if(e<=l[v].pct)return o?"rgb("+[l[v].color.r,l[v].color.g,l[v].color.b].join(",")+")":(d=(g=l[v]).pct-(p=l[v-1]).pct,s=1-(d=(e-p.pct)/d),d=d,"rgb("+[(p={r:Math.floor(p.color.r*s+g.color.r*d),g:Math.floor(p.color.g*s+g.color.g*d),b:Math.floor(p.color.b*s+g.color.b*d)}).r,p.g,p.b].join(",")+")")}function setDy(t,e,i){(!ie||9<ie)&&t.node.firstChild.attributes.dy&&(t.node.firstChild.attributes.dy.value=0)}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function cutHex(t){return"#"==t.charAt(0)?t.substring(1,7):t}function humanFriendlyNumber(t,e){for(var i,o=Math.pow,n=o(10,e),a=7;a;)(i=o(10,3*a--))<=t&&(t=Math.round(t*n/i)/n+"KMGTPE"[a]);return t}function formatNumber(t){t=t.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function getStyle(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i}function onCreateElementNsReady(t){void 0!==document.createElementNS?t():setTimeout(function(){onCreateElementNsReady(t)},100)}(JustGage=function(t){var p=this;if(null==t)return!1;if(null!==t.id&&void 0!==t.id){if(!(x=document.getElementById(t.id)))return!1}else{if(null===t.parentNode||void 0===t.parentNode)return!1;x=t.parentNode}var e,i,o,n,a,r,l,c,u,f,m,g,s,d,h,v,x=x.dataset||{},b=null!==t.defaults&&void 0!==t.defaults&&t.defaults,k=(!1!==b&&delete(t=extend({},t,b)).defaults,p.config={id:t.id,value:kvLookup("value",t,x,0,"float"),defaults:kvLookup("defaults",t,x,0,!1),parentNode:kvLookup("parentNode",t,x,null),width:kvLookup("width",t,x,null),height:kvLookup("height",t,x,null),title:kvLookup("title",t,x,""),titleFontColor:kvLookup("titleFontColor",t,x,"#999999"),titleFontFamily:kvLookup("titleFontFamily",t,x,"sans-serif"),titlePosition:kvLookup("titlePosition",t,x,"above"),valueFontColor:kvLookup("valueFontColor",t,x,"#010101"),valueFontFamily:kvLookup("valueFontFamily",t,x,"Arial"),symbol:kvLookup("symbol",t,x,""),min:kvLookup("min",t,x,0,"float"),max:kvLookup("max",t,x,100,"float"),reverse:kvLookup("reverse",t,x,!1),humanFriendlyDecimal:kvLookup("humanFriendlyDecimal",t,x,0),textRenderer:kvLookup("textRenderer",t,x,null),gaugeWidthScale:kvLookup("gaugeWidthScale",t,x,1),gaugeColor:kvLookup("gaugeColor",t,x,"#edebeb"),label:kvLookup("label",t,x,""),labelFontColor:kvLookup("labelFontColor",t,x,"#b3b3b3"),shadowOpacity:kvLookup("shadowOpacity",t,x,.2),shadowSize:kvLookup("shadowSize",t,x,5),shadowVerticalOffset:kvLookup("shadowVerticalOffset",t,x,3),levelColors:kvLookup("levelColors",t,x,["#a9d70b","#f9c802","#ff0000"],"array",","),startAnimationTime:kvLookup("startAnimationTime",t,x,700),startAnimationType:kvLookup("startAnimationType",t,x,">"),refreshAnimationTime:kvLookup("refreshAnimationTime",t,x,700),refreshAnimationType:kvLookup("refreshAnimationType",t,x,">"),donutStartAngle:kvLookup("donutStartAngle",t,x,90),valueMinFontSize:kvLookup("valueMinFontSize",t,x,16),titleMinFontSize:kvLookup("titleMinFontSize",t,x,10),labelMinFontSize:kvLookup("labelMinFontSize",t,x,10),minLabelMinFontSize:kvLookup("minLabelMinFontSize",t,x,10),maxLabelMinFontSize:kvLookup("maxLabelMinFontSize",t,x,10),hideValue:kvLookup("hideValue",t,x,!1),hideMinMax:kvLookup("hideMinMax",t,x,!1),hideInnerShadow:kvLookup("hideInnerShadow",t,x,!1),humanFriendly:kvLookup("humanFriendly",t,x,!1),noGradient:kvLookup("noGradient",t,x,!1),donut:kvLookup("donut",t,x,!1),relativeGaugeSize:kvLookup("relativeGaugeSize",t,x,!1),counter:kvLookup("counter",t,x,!1),decimals:kvLookup("decimals",t,x,0),customSectors:kvLookup("customSectors",t,x,[]),formatNumber:kvLookup("formatNumber",t,x,!1),pointer:kvLookup("pointer",t,x,!1),pointerOptions:kvLookup("pointerOptions",t,x,[])},p.config.value>p.config.max&&(p.config.value=p.config.max),p.config.value<p.config.min&&(p.config.value=p.config.min),p.originalValue=kvLookup("value",t,x,-1,"float"),null!==p.config.id&&null!==document.getElementById(p.config.id)?p.canvas=Raphael(p.config.id,"100%","100%"):null!==p.config.parentNode&&(p.canvas=Raphael(p.config.parentNode,"100%","100%")),!0===p.config.relativeGaugeSize&&p.canvas.setViewBox(0,0,200,150,!0),b=!0===p.config.relativeGaugeSize?(k=200,150):null!==p.config.width&&null!==p.config.height?(k=p.config.width,p.config.height):null!==p.config.parentNode?(p.canvas.setViewBox(0,0,200,150,!0),k=200,150):(k=+getStyle(document.getElementById(p.config.id),"width").slice(0,-2),+getStyle(document.getElementById(p.config.id),"height").slice(0,-2)),v=(x=(t=!0===p.config.donut?(b<k?S=e=b:k<b?b<(e=S=k)&&(S=(e/=v=e/b)/v):e=S=k,n=10<e/8?e/10:10,r=(o=(b-e)/2)+e/11,l=16<e/6.4?e/5.4:18,u=""!==p.config.label?o+e/1.85:o+e/1.7,m=c=a=(i=(k-S)/2)+S/2,d=i+S/10+S/6.666666666666667*p.config.gaugeWidthScale/2,h=g=u+(f=10<e/16?e/16:10),s=10<e/16?e/16:10):(b<k?k<(S=1.25*(e=b))&&(S/=v=S/k,e/=v):k<b?b<(e=(S=k)/1.25)&&(S=(e/=v=e/b)/v):e=.75*(S=k),o=(b-e)/2,"below"===p.config.titlePosition&&(o-=e/6.4),n=e/8>p.config.titleMinFontSize?e/10:p.config.titleMinFontSize,r=o+("below"===p.config.titlePosition?1.07*e:e/6.4),l=e/6.5>p.config.valueMinFontSize?e/6.5:p.config.valueMinFontSize,f=e/16>p.config.labelMinFontSize?e/16:p.config.labelMinFontSize,m=c=a=(i=(k-S)/2)+S/2,s=e/16>p.config.minLabelMinFontSize?e/16:p.config.minLabelMinFontSize,d=i+S/10+S/6.666666666666667*p.config.gaugeWidthScale/2,h=g=(u=o+e/1.275)+l/2+5,e/16>p.config.maxLabelMinFontSize?e/16:p.config.maxLabelMinFontSize),i+S-S/10-S/6.666666666666667*p.config.gaugeWidthScale/2),g),p.params={canvasW:k,canvasH:b,widgetW:S,widgetH:e,dx:i,dy:o,titleFontSize:n,titleX:a,titleY:r,valueFontSize:l,valueX:c,valueY:u,labelFontSize:f,labelX:m,labelY:g,minFontSize:s,minX:d,minY:h,maxFontSize:t,maxX:x,maxY:v},v=null,p.canvas.customAttributes.pki=function(t,e,i,o,n,a,r,l,c,u){var f,m,g,s,d,p;return c?(f=(1-2*(t-e)/(i-e))*Math.PI,p="M"+((s=o/2+a)-(g=(m=o/2-o/7)-o/6.666666666666667*l))+","+(d=n/1.95+r)+" ",p+="L"+(s-m)+","+d+" ",(i-e)/2<t&&(p+="A"+m+","+m+" 0 0 1 "+(s+m)+","+d+" "),p=p+("A"+m+","+m+" 0 0 1 "+(o/2+a+m*Math.cos(f))+","+(n-(n-d)-m*Math.sin(f)))+" L"+(o/2+a+g*Math.cos(f))+","+(n-(n-d)-g*Math.sin(f))+" ",(i-e)/2<t&&(p+="A"+g+","+g+" 0 0 0 "+(s+g)+","+d+" "),{path:p=p+("A"+g+","+g+" 0 0 0 "+(s-g)+","+d+" ")+"Z "}):(f=(1-(t-e)/(i-e))*Math.PI,p="M"+((s=o/2+a)-(g=(m=o/2-o/10)-o/6.666666666666667*l))+","+(d=n/1.25+r)+" ",{path:p=(p=(p+="L"+(s-m)+","+d+" ")+("A"+m+","+m+" 0 0 1 "+(o/2+a+m*Math.cos(f))+","+(n-(n-d)-m*Math.sin(f))+" ")+("L"+(o/2+a+g*Math.cos(f))+","+(n-(n-d)-g*Math.sin(f))+" "))+("A"+g+","+g+" 0 0 0 "+(s-g)+","+d+" ")+"Z "})},p.canvas.customAttributes.ndl=function(t,e,i,o,n,a,r,l,c){var u,f,m,g=3.5*o/100,s=o/15,d=o/100;return null!=p.config.pointerOptions.toplength&&null!=p.config.pointerOptions.toplength&&(g=p.config.pointerOptions.toplength),null!=p.config.pointerOptions.bottomlength&&null!=p.config.pointerOptions.bottomlength&&(s=p.config.pointerOptions.bottomlength),null!=p.config.pointerOptions.bottomwidth&&null!=p.config.pointerOptions.bottomwidth&&(d=p.config.pointerOptions.bottomwidth),n=(a=(o=(m=(r=(l=(e=(i=(t=(c=c?(u=(1-2*(t-e)/(i-e))*Math.PI,f=(m=o/2-o/7)-o/6.666666666666667*l,n/1.95+r):(u=(1-(t-e)/(i-e))*Math.PI,f=(m=o/2-o/10)-o/6.666666666666667*l,n/1.25+r),o/2+a+m*Math.cos(u)),n-(n-c)-m*Math.sin(u)),o/2+a+f*Math.cos(u)),n-(n-c)-f*Math.sin(u)),t+g*Math.cos(u)),i-g*Math.sin(u)),e-s*Math.cos(u)),l+s*Math.sin(u)),"M"+(o+d*Math.sin(u))+","+(a+d*Math.cos(u))+" "),{path:n=(n+="L"+(o-d*Math.sin(u))+","+(a-d*Math.cos(u))+" ")+("L"+r+","+m+" ")+"Z "}},p.gauge=p.canvas.path().attr({stroke:"none",fill:p.config.gaugeColor,pki:[p.config.max,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]}),p.level=p.canvas.path().attr({stroke:"none",fill:getColor(p.config.value,(p.config.value-p.config.min)/(p.config.max-p.config.min),p.config.levelColors,p.config.noGradient,p.config.customSectors),pki:[p.config.min,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]}),p.config.donut&&p.level.transform("r"+p.config.donutStartAngle+", "+(p.params.widgetW/2+p.params.dx)+", "+(p.params.widgetH/1.95+p.params.dy)),p.config.pointer&&(p.needle=p.canvas.path().attr({stroke:null!==p.config.pointerOptions.stroke&&void 0!==p.config.pointerOptions.stroke?p.config.pointerOptions.stroke:"none","stroke-width":null!==p.config.pointerOptions.stroke_width&&void 0!==p.config.pointerOptions.stroke_width?p.config.pointerOptions.stroke_width:0,"stroke-linecap":null!==p.config.pointerOptions.stroke_linecap&&void 0!==p.config.pointerOptions.stroke_linecap?p.config.pointerOptions.stroke_linecap:"square",fill:null!==p.config.pointerOptions.color&&void 0!==p.config.pointerOptions.color?p.config.pointerOptions.color:"#000000",ndl:[p.config.min,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut]}),p.config.donut)&&p.needle.transform("r"+p.config.donutStartAngle+", "+(p.params.widgetW/2+p.params.dx)+", "+(p.params.widgetH/1.95+p.params.dy)),p.txtTitle=p.canvas.text(p.params.titleX,p.params.titleY,p.config.title),p.txtTitle.attr({"font-size":p.params.titleFontSize,"font-weight":"bold","font-family":p.config.titleFontFamily,fill:p.config.titleFontColor,"fill-opacity":"1"}),setDy(p.txtTitle,p.params.titleFontSize,p.params.titleY),p.txtValue=p.canvas.text(p.params.valueX,p.params.valueY,0),p.txtValue.attr({"font-size":p.params.valueFontSize,"font-weight":"bold","font-family":p.config.valueFontFamily,fill:p.config.valueFontColor,"fill-opacity":"0"}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY),p.txtLabel=p.canvas.text(p.params.labelX,p.params.labelY,p.config.label),p.txtLabel.attr({"font-size":p.params.labelFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":"0"}),setDy(p.txtLabel,p.params.labelFontSize,p.params.labelY),p.config.min),b=(p.config.reverse&&(k=p.config.max),p.txtMinimum=k,p.config.humanFriendly?p.txtMinimum=humanFriendlyNumber(k,p.config.humanFriendlyDecimal):p.config.formatNumber&&(p.txtMinimum=formatNumber(k)),p.txtMin=p.canvas.text(p.params.minX,p.params.minY,p.txtMinimum),p.txtMin.attr({"font-size":p.params.minFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":p.config.hideMinMax||p.config.donut?"0":"1"}),setDy(p.txtMin,p.params.minFontSize,p.params.minY),p.config.max),y=(p.config.reverse&&(b=p.config.min),p.txtMaximum=b,p.config.humanFriendly?p.txtMaximum=humanFriendlyNumber(b,p.config.humanFriendlyDecimal):p.config.formatNumber&&(p.txtMaximum=formatNumber(b)),p.txtMax=p.canvas.text(p.params.maxX,p.params.maxY,p.txtMaximum),p.txtMax.attr({"font-size":p.params.maxFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":p.config.hideMinMax||p.config.donut?"0":"1"}),setDy(p.txtMax,p.params.maxFontSize,p.params.maxY),p.canvas.canvas.childNodes[1]),F="http://www.w3.org/2000/svg",S=("undefined"!==ie&&ie<9||("undefined"!==ie?onCreateElementNsReady(function(){p.generateShadow(F,y)}):p.generateShadow(F,y)),F=null,p.config.textRenderer?p.originalValue=p.config.textRenderer(p.originalValue):p.config.humanFriendly?p.originalValue=humanFriendlyNumber(p.originalValue,p.config.humanFriendlyDecimal)+p.config.symbol:p.config.formatNumber?p.originalValue=formatNumber(p.originalValue)+p.config.symbol:p.originalValue=(+p.originalValue).toFixed(p.config.decimals)+p.config.symbol,!0===p.config.counter?(eve.on("raphael.anim.frame."+p.level.id,function(){var t=p.level.attr("pki")[0];p.config.reverse&&(t=+p.config.max+ +p.config.min-+p.level.attr("pki")[0]),p.config.textRenderer?p.txtValue.attr("text",p.config.textRenderer(Math.floor(t))):p.config.humanFriendly?p.txtValue.attr("text",humanFriendlyNumber(Math.floor(t),p.config.humanFriendlyDecimal)+p.config.symbol):p.config.formatNumber?p.txtValue.attr("text",formatNumber(Math.floor(t))+p.config.symbol):p.txtValue.attr("text",(+t).toFixed(p.config.decimals)+p.config.symbol),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)}),eve.on("raphael.anim.finish."+p.level.id,function(){p.txtValue.attr({text:p.originalValue}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)})):eve.on("raphael.anim.start."+p.level.id,function(){p.txtValue.attr({text:p.originalValue}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)}),p.config.value);p.config.reverse&&(S=+p.config.max+ +p.config.min-+p.config.value),p.level.animate({pki:[S,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]},p.config.startAnimationTime,p.config.startAnimationType),p.config.pointer&&p.needle.animate({ndl:[S,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut]},p.config.startAnimationTime,p.config.startAnimationType),p.txtValue.animate({"fill-opacity":p.config.hideValue?"0":"1"},p.config.startAnimationTime,p.config.startAnimationType),p.txtLabel.animate({"fill-opacity":"1"},p.config.startAnimationTime,p.config.startAnimationType)}).prototype.refresh=function(t,e){var i,o=this,t=(null!==(e=e||null)&&(o.config.max=e,o.txtMaximum=o.config.max,o.config.humanFriendly?o.txtMaximum=humanFriendlyNumber(o.config.max,o.config.humanFriendlyDecimal):o.config.formatNumber&&(o.txtMaximum=formatNumber(o.config.max)),o.config.reverse?(o.txtMin.attr({text:o.txtMaximum}),setDy(o.txtMin,o.params.minFontSize,o.params.minY)):(o.txtMax.attr({text:o.txtMaximum}),setDy(o.txtMax,o.params.maxFontSize,o.params.maxY))),i=getColor(t=+(t=+(e=t)>+o.config.max?+o.config.max:t)<+o.config.min?+o.config.min:t,(t-o.config.min)/(o.config.max-o.config.min),o.config.levelColors,o.config.noGradient,o.config.customSectors),e=o.config.textRenderer?o.config.textRenderer(e):o.config.humanFriendly?humanFriendlyNumber(e,o.config.humanFriendlyDecimal)+o.config.symbol:o.config.formatNumber?formatNumber((+e).toFixed(o.config.decimals))+o.config.symbol:(+e).toFixed(o.config.decimals)+o.config.symbol,o.originalValue=e,o.config.value=+t,o.config.counter||(o.txtValue.attr({text:e}),setDy(o.txtValue,o.params.valueFontSize,o.params.valueY)),o.config.value);o.config.reverse&&(t=+o.config.max+ +o.config.min-+o.config.value),o.level.animate({pki:[t,o.config.min,o.config.max,o.params.widgetW,o.params.widgetH,o.params.dx,o.params.dy,o.config.gaugeWidthScale,o.config.donut,o.config.reverse],fill:i},o.config.refreshAnimationTime,o.config.refreshAnimationType),o.config.pointer&&o.needle.animate({ndl:[t,o.config.min,o.config.max,o.params.widgetW,o.params.widgetH,o.params.dx,o.params.dy,o.config.gaugeWidthScale,o.config.donut]},o.config.refreshAnimationTime,o.config.refreshAnimationType)},JustGage.prototype.generateShadow=function(t,e){var i=this,o="inner-shadow-"+i.config.id,n=document.createElementNS(t,"filter");n.setAttribute("id",o),e.appendChild(n),(e=document.createElementNS(t,"feOffset")).setAttribute("dx",0),e.setAttribute("dy",i.config.shadowVerticalOffset),n.appendChild(e),(e=document.createElementNS(t,"feGaussianBlur")).setAttribute("result","offset-blur"),e.setAttribute("stdDeviation",i.config.shadowSize),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","out"),e.setAttribute("in","SourceGraphic"),e.setAttribute("in2","offset-blur"),e.setAttribute("result","inverse"),n.appendChild(e),(e=document.createElementNS(t,"feFlood")).setAttribute("flood-color","black"),e.setAttribute("flood-opacity",i.config.shadowOpacity),e.setAttribute("result","color"),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","in"),e.setAttribute("in","color"),e.setAttribute("in2","inverse"),e.setAttribute("result","shadow"),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","over"),e.setAttribute("in","shadow"),e.setAttribute("in2","SourceGraphic"),n.appendChild(e),i.config.hideInnerShadow||(i.canvas.canvas.childNodes[2].setAttribute("filter","url(#"+o+")"),i.canvas.canvas.childNodes[3].setAttribute("filter","url(#"+o+")"))};var ie=function(){for(var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:void 0}();function extend(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t}