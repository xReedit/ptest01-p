function kvLookup(t,e,o,i,n,a){var r=i,l=!1;if(null!=t&&(null!=o&&"object"==typeof o&&t in o?(r=o[t],l=!0):null!=e&&"object"==typeof e&&t in e?(r=e[t],l=!0):r=i,!0===l)&&null!=n)switch(n){case"int":r=parseInt(r,10);break;case"float":r=parseFloat(r)}return r}function getColor(t,e,o,i,n){var a,r,l,c,u,f,m,s,g,d,p,i=i||0<n.length;if(0<n.length)for(var h=0;h<n.length;h++)if(t>n[h].lo&&t<=n[h].hi)return n[h].color;if(1===(a=o.length))return o[0];for(r=i?1/a:1/(a-1),l=[],h=0;h<o.length;h++)c=i?r*(h+1):r*h,u=parseInt(cutHex(o[h]).substring(0,2),16),f=parseInt(cutHex(o[h]).substring(2,4),16),m=parseInt(cutHex(o[h]).substring(4,6),16),l[h]={pct:c,color:{r:u,g:f,b:m}};if(0===e)return"rgb("+[l[0].color.r,l[0].color.g,l[0].color.b].join(",")+")";for(var v=0;v<l.length;v++)if(e<=l[v].pct)return i?"rgb("+[l[v].color.r,l[v].color.g,l[v].color.b].join(",")+")":(d=(s=l[v]).pct-(p=l[v-1]).pct,g=1-(d=(e-p.pct)/d),d=d,"rgb("+[(p={r:Math.floor(p.color.r*g+s.color.r*d),g:Math.floor(p.color.g*g+s.color.g*d),b:Math.floor(p.color.b*g+s.color.b*d)}).r,p.g,p.b].join(",")+")")}function setDy(t,e,o){(!ie||9<ie)&&t.node.firstChild.attributes.dy&&(t.node.firstChild.attributes.dy.value=0)}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function cutHex(t){return"#"==t.charAt(0)?t.substring(1,7):t}function humanFriendlyNumber(t,e){for(var o,i=Math.pow,n=i(10,e),a=7;a;)(o=i(10,3*a--))<=t&&(t=Math.round(t*n/o)/n+"KMGTPE"[a]);return t}function formatNumber(t){t=t.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function getStyle(t,e){var o="";return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),o=t.currentStyle[e]),o}function onCreateElementNsReady(t){void 0!==document.createElementNS?t():setTimeout(function(){onCreateElementNsReady(t)},100)}(JustGage=function(t){var p=this;if(null==t)return console.log("* justgage: Make sure to pass options to the constructor!"),!1;if(null!==t.id&&void 0!==t.id){if(!(x=document.getElementById(t.id)))return console.log("* justgage: No element with id : %s found",t.id),!1}else{if(null===t.parentNode||void 0===t.parentNode)return console.log("* justgage: Make sure to pass the existing element id or parentNode to the constructor."),!1;x=t.parentNode}var e,o,i,n,a,r,l,c,u,f,m,s,g,d,h,v,x=x.dataset||{},b=null!==t.defaults&&void 0!==t.defaults&&t.defaults,k=(!1!==b&&delete(t=extend({},t,b)).defaults,p.config={id:t.id,value:kvLookup("value",t,x,0,"float"),defaults:kvLookup("defaults",t,x,0,!1),parentNode:kvLookup("parentNode",t,x,null),width:kvLookup("width",t,x,null),height:kvLookup("height",t,x,null),title:kvLookup("title",t,x,""),titleFontColor:kvLookup("titleFontColor",t,x,"#999999"),titleFontFamily:kvLookup("titleFontFamily",t,x,"sans-serif"),titlePosition:kvLookup("titlePosition",t,x,"above"),valueFontColor:kvLookup("valueFontColor",t,x,"#010101"),valueFontFamily:kvLookup("valueFontFamily",t,x,"Arial"),symbol:kvLookup("symbol",t,x,""),min:kvLookup("min",t,x,0,"float"),max:kvLookup("max",t,x,100,"float"),reverse:kvLookup("reverse",t,x,!1),humanFriendlyDecimal:kvLookup("humanFriendlyDecimal",t,x,0),textRenderer:kvLookup("textRenderer",t,x,null),gaugeWidthScale:kvLookup("gaugeWidthScale",t,x,1),gaugeColor:kvLookup("gaugeColor",t,x,"#edebeb"),label:kvLookup("label",t,x,""),labelFontColor:kvLookup("labelFontColor",t,x,"#b3b3b3"),shadowOpacity:kvLookup("shadowOpacity",t,x,.2),shadowSize:kvLookup("shadowSize",t,x,5),shadowVerticalOffset:kvLookup("shadowVerticalOffset",t,x,3),levelColors:kvLookup("levelColors",t,x,["#a9d70b","#f9c802","#ff0000"],"array",","),startAnimationTime:kvLookup("startAnimationTime",t,x,700),startAnimationType:kvLookup("startAnimationType",t,x,">"),refreshAnimationTime:kvLookup("refreshAnimationTime",t,x,700),refreshAnimationType:kvLookup("refreshAnimationType",t,x,">"),donutStartAngle:kvLookup("donutStartAngle",t,x,90),valueMinFontSize:kvLookup("valueMinFontSize",t,x,16),titleMinFontSize:kvLookup("titleMinFontSize",t,x,10),labelMinFontSize:kvLookup("labelMinFontSize",t,x,10),minLabelMinFontSize:kvLookup("minLabelMinFontSize",t,x,10),maxLabelMinFontSize:kvLookup("maxLabelMinFontSize",t,x,10),hideValue:kvLookup("hideValue",t,x,!1),hideMinMax:kvLookup("hideMinMax",t,x,!1),hideInnerShadow:kvLookup("hideInnerShadow",t,x,!1),humanFriendly:kvLookup("humanFriendly",t,x,!1),noGradient:kvLookup("noGradient",t,x,!1),donut:kvLookup("donut",t,x,!1),relativeGaugeSize:kvLookup("relativeGaugeSize",t,x,!1),counter:kvLookup("counter",t,x,!1),decimals:kvLookup("decimals",t,x,0),customSectors:kvLookup("customSectors",t,x,[]),formatNumber:kvLookup("formatNumber",t,x,!1),pointer:kvLookup("pointer",t,x,!1),pointerOptions:kvLookup("pointerOptions",t,x,[])},p.config.value>p.config.max&&(p.config.value=p.config.max),p.config.value<p.config.min&&(p.config.value=p.config.min),p.originalValue=kvLookup("value",t,x,-1,"float"),null!==p.config.id&&null!==document.getElementById(p.config.id)?p.canvas=Raphael(p.config.id,"100%","100%"):null!==p.config.parentNode&&(p.canvas=Raphael(p.config.parentNode,"100%","100%")),!0===p.config.relativeGaugeSize&&p.canvas.setViewBox(0,0,200,150,!0),b=!0===p.config.relativeGaugeSize?(k=200,150):null!==p.config.width&&null!==p.config.height?(k=p.config.width,p.config.height):null!==p.config.parentNode?(p.canvas.setViewBox(0,0,200,150,!0),k=200,150):(k=+getStyle(document.getElementById(p.config.id),"width").slice(0,-2),+getStyle(document.getElementById(p.config.id),"height").slice(0,-2)),v=(x=(t=!0===p.config.donut?(b<k?M=e=b:k<b?b<(e=M=k)&&(M=(e/=v=e/b)/v):e=M=k,n=10<e/8?e/10:10,r=(i=(b-e)/2)+e/11,l=16<e/6.4?e/5.4:18,u=""!==p.config.label?i+e/1.85:i+e/1.7,m=c=a=(o=(k-M)/2)+M/2,d=o+M/10+M/6.666666666666667*p.config.gaugeWidthScale/2,h=s=u+(f=10<e/16?e/16:10),g=10<e/16?e/16:10):(b<k?k<(M=1.25*(e=b))&&(M/=v=M/k,e/=v):k<b?b<(e=(M=k)/1.25)&&(M=(e/=v=e/b)/v):e=.75*(M=k),i=(b-e)/2,"below"===p.config.titlePosition&&(i-=e/6.4),n=e/8>p.config.titleMinFontSize?e/10:p.config.titleMinFontSize,r=i+("below"===p.config.titlePosition?1.07*e:e/6.4),l=e/6.5>p.config.valueMinFontSize?e/6.5:p.config.valueMinFontSize,f=e/16>p.config.labelMinFontSize?e/16:p.config.labelMinFontSize,m=c=a=(o=(k-M)/2)+M/2,g=e/16>p.config.minLabelMinFontSize?e/16:p.config.minLabelMinFontSize,d=o+M/10+M/6.666666666666667*p.config.gaugeWidthScale/2,h=s=(u=i+e/1.275)+l/2+5,e/16>p.config.maxLabelMinFontSize?e/16:p.config.maxLabelMinFontSize),o+M-M/10-M/6.666666666666667*p.config.gaugeWidthScale/2),s),p.params={canvasW:k,canvasH:b,widgetW:M,widgetH:e,dx:o,dy:i,titleFontSize:n,titleX:a,titleY:r,valueFontSize:l,valueX:c,valueY:u,labelFontSize:f,labelX:m,labelY:s,minFontSize:g,minX:d,minY:h,maxFontSize:t,maxX:x,maxY:v},v=null,p.canvas.customAttributes.pki=function(t,e,o,i,n,a,r,l,c,u){var f,m,s,g,d,p;return c?(f=(1-2*(t-e)/(o-e))*Math.PI,p="M"+((g=i/2+a)-(s=(m=i/2-i/7)-i/6.666666666666667*l))+","+(d=n/1.95+r)+" ",p+="L"+(g-m)+","+d+" ",(o-e)/2<t&&(p+="A"+m+","+m+" 0 0 1 "+(g+m)+","+d+" "),p=p+("A"+m+","+m+" 0 0 1 "+(i/2+a+m*Math.cos(f))+","+(n-(n-d)-m*Math.sin(f)))+" L"+(i/2+a+s*Math.cos(f))+","+(n-(n-d)-s*Math.sin(f))+" ",(o-e)/2<t&&(p+="A"+s+","+s+" 0 0 0 "+(g+s)+","+d+" "),{path:p=p+("A"+s+","+s+" 0 0 0 "+(g-s)+","+d+" ")+"Z "}):(f=(1-(t-e)/(o-e))*Math.PI,p="M"+((g=i/2+a)-(s=(m=i/2-i/10)-i/6.666666666666667*l))+","+(d=n/1.25+r)+" ",{path:p=(p=(p+="L"+(g-m)+","+d+" ")+("A"+m+","+m+" 0 0 1 "+(i/2+a+m*Math.cos(f))+","+(n-(n-d)-m*Math.sin(f))+" ")+("L"+(i/2+a+s*Math.cos(f))+","+(n-(n-d)-s*Math.sin(f))+" "))+("A"+s+","+s+" 0 0 0 "+(g-s)+","+d+" ")+"Z "})},p.canvas.customAttributes.ndl=function(t,e,o,i,n,a,r,l,c){var u,f,m,s=3.5*i/100,g=i/15,d=i/100;return null!=p.config.pointerOptions.toplength&&null!=p.config.pointerOptions.toplength&&(s=p.config.pointerOptions.toplength),null!=p.config.pointerOptions.bottomlength&&null!=p.config.pointerOptions.bottomlength&&(g=p.config.pointerOptions.bottomlength),null!=p.config.pointerOptions.bottomwidth&&null!=p.config.pointerOptions.bottomwidth&&(d=p.config.pointerOptions.bottomwidth),n=(a=(i=(m=(r=(l=(e=(o=(t=(c=c?(u=(1-2*(t-e)/(o-e))*Math.PI,f=(m=i/2-i/7)-i/6.666666666666667*l,n/1.95+r):(u=(1-(t-e)/(o-e))*Math.PI,f=(m=i/2-i/10)-i/6.666666666666667*l,n/1.25+r),i/2+a+m*Math.cos(u)),n-(n-c)-m*Math.sin(u)),i/2+a+f*Math.cos(u)),n-(n-c)-f*Math.sin(u)),t+s*Math.cos(u)),o-s*Math.sin(u)),e-g*Math.cos(u)),l+g*Math.sin(u)),"M"+(i+d*Math.sin(u))+","+(a+d*Math.cos(u))+" "),{path:n=(n+="L"+(i-d*Math.sin(u))+","+(a-d*Math.cos(u))+" ")+("L"+r+","+m+" ")+"Z "}},p.gauge=p.canvas.path().attr({stroke:"none",fill:p.config.gaugeColor,pki:[p.config.max,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]}),p.level=p.canvas.path().attr({stroke:"none",fill:getColor(p.config.value,(p.config.value-p.config.min)/(p.config.max-p.config.min),p.config.levelColors,p.config.noGradient,p.config.customSectors),pki:[p.config.min,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]}),p.config.donut&&p.level.transform("r"+p.config.donutStartAngle+", "+(p.params.widgetW/2+p.params.dx)+", "+(p.params.widgetH/1.95+p.params.dy)),p.config.pointer&&(p.needle=p.canvas.path().attr({stroke:null!==p.config.pointerOptions.stroke&&void 0!==p.config.pointerOptions.stroke?p.config.pointerOptions.stroke:"none","stroke-width":null!==p.config.pointerOptions.stroke_width&&void 0!==p.config.pointerOptions.stroke_width?p.config.pointerOptions.stroke_width:0,"stroke-linecap":null!==p.config.pointerOptions.stroke_linecap&&void 0!==p.config.pointerOptions.stroke_linecap?p.config.pointerOptions.stroke_linecap:"square",fill:null!==p.config.pointerOptions.color&&void 0!==p.config.pointerOptions.color?p.config.pointerOptions.color:"#000000",ndl:[p.config.min,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut]}),p.config.donut)&&p.needle.transform("r"+p.config.donutStartAngle+", "+(p.params.widgetW/2+p.params.dx)+", "+(p.params.widgetH/1.95+p.params.dy)),p.txtTitle=p.canvas.text(p.params.titleX,p.params.titleY,p.config.title),p.txtTitle.attr({"font-size":p.params.titleFontSize,"font-weight":"bold","font-family":p.config.titleFontFamily,fill:p.config.titleFontColor,"fill-opacity":"1"}),setDy(p.txtTitle,p.params.titleFontSize,p.params.titleY),p.txtValue=p.canvas.text(p.params.valueX,p.params.valueY,0),p.txtValue.attr({"font-size":p.params.valueFontSize,"font-weight":"bold","font-family":p.config.valueFontFamily,fill:p.config.valueFontColor,"fill-opacity":"0"}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY),p.txtLabel=p.canvas.text(p.params.labelX,p.params.labelY,p.config.label),p.txtLabel.attr({"font-size":p.params.labelFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":"0"}),setDy(p.txtLabel,p.params.labelFontSize,p.params.labelY),p.config.min),b=(p.config.reverse&&(k=p.config.max),p.txtMinimum=k,p.config.humanFriendly?p.txtMinimum=humanFriendlyNumber(k,p.config.humanFriendlyDecimal):p.config.formatNumber&&(p.txtMinimum=formatNumber(k)),p.txtMin=p.canvas.text(p.params.minX,p.params.minY,p.txtMinimum),p.txtMin.attr({"font-size":p.params.minFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":p.config.hideMinMax||p.config.donut?"0":"1"}),setDy(p.txtMin,p.params.minFontSize,p.params.minY),p.config.max),y=(p.config.reverse&&(b=p.config.min),p.txtMaximum=b,p.config.humanFriendly?p.txtMaximum=humanFriendlyNumber(b,p.config.humanFriendlyDecimal):p.config.formatNumber&&(p.txtMaximum=formatNumber(b)),p.txtMax=p.canvas.text(p.params.maxX,p.params.maxY,p.txtMaximum),p.txtMax.attr({"font-size":p.params.maxFontSize,"font-weight":"normal","font-family":"Arial",fill:p.config.labelFontColor,"fill-opacity":p.config.hideMinMax||p.config.donut?"0":"1"}),setDy(p.txtMax,p.params.maxFontSize,p.params.maxY),p.canvas.canvas.childNodes[1]),F="http://www.w3.org/2000/svg",M=("undefined"!==ie&&ie<9||("undefined"!==ie?onCreateElementNsReady(function(){p.generateShadow(F,y)}):p.generateShadow(F,y)),F=null,p.config.textRenderer?p.originalValue=p.config.textRenderer(p.originalValue):p.config.humanFriendly?p.originalValue=humanFriendlyNumber(p.originalValue,p.config.humanFriendlyDecimal)+p.config.symbol:p.config.formatNumber?p.originalValue=formatNumber(p.originalValue)+p.config.symbol:p.originalValue=(+p.originalValue).toFixed(p.config.decimals)+p.config.symbol,!0===p.config.counter?(eve.on("raphael.anim.frame."+p.level.id,function(){var t=p.level.attr("pki")[0];p.config.reverse&&(t=+p.config.max+ +p.config.min-+p.level.attr("pki")[0]),p.config.textRenderer?p.txtValue.attr("text",p.config.textRenderer(Math.floor(t))):p.config.humanFriendly?p.txtValue.attr("text",humanFriendlyNumber(Math.floor(t),p.config.humanFriendlyDecimal)+p.config.symbol):p.config.formatNumber?p.txtValue.attr("text",formatNumber(Math.floor(t))+p.config.symbol):p.txtValue.attr("text",(+t).toFixed(p.config.decimals)+p.config.symbol),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)}),eve.on("raphael.anim.finish."+p.level.id,function(){p.txtValue.attr({text:p.originalValue}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)})):eve.on("raphael.anim.start."+p.level.id,function(){p.txtValue.attr({text:p.originalValue}),setDy(p.txtValue,p.params.valueFontSize,p.params.valueY)}),p.config.value);p.config.reverse&&(M=+p.config.max+ +p.config.min-+p.config.value),p.level.animate({pki:[M,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut,p.config.reverse]},p.config.startAnimationTime,p.config.startAnimationType),p.config.pointer&&p.needle.animate({ndl:[M,p.config.min,p.config.max,p.params.widgetW,p.params.widgetH,p.params.dx,p.params.dy,p.config.gaugeWidthScale,p.config.donut]},p.config.startAnimationTime,p.config.startAnimationType),p.txtValue.animate({"fill-opacity":p.config.hideValue?"0":"1"},p.config.startAnimationTime,p.config.startAnimationType),p.txtLabel.animate({"fill-opacity":"1"},p.config.startAnimationTime,p.config.startAnimationType)}).prototype.refresh=function(t,e){var o,i=this,t=(null!==(e=e||null)&&(i.config.max=e,i.txtMaximum=i.config.max,i.config.humanFriendly?i.txtMaximum=humanFriendlyNumber(i.config.max,i.config.humanFriendlyDecimal):i.config.formatNumber&&(i.txtMaximum=formatNumber(i.config.max)),i.config.reverse?(i.txtMin.attr({text:i.txtMaximum}),setDy(i.txtMin,i.params.minFontSize,i.params.minY)):(i.txtMax.attr({text:i.txtMaximum}),setDy(i.txtMax,i.params.maxFontSize,i.params.maxY))),o=getColor(t=+(t=+(e=t)>+i.config.max?+i.config.max:t)<+i.config.min?+i.config.min:t,(t-i.config.min)/(i.config.max-i.config.min),i.config.levelColors,i.config.noGradient,i.config.customSectors),e=i.config.textRenderer?i.config.textRenderer(e):i.config.humanFriendly?humanFriendlyNumber(e,i.config.humanFriendlyDecimal)+i.config.symbol:i.config.formatNumber?formatNumber((+e).toFixed(i.config.decimals))+i.config.symbol:(+e).toFixed(i.config.decimals)+i.config.symbol,i.originalValue=e,i.config.value=+t,i.config.counter||(i.txtValue.attr({text:e}),setDy(i.txtValue,i.params.valueFontSize,i.params.valueY)),i.config.value);i.config.reverse&&(t=+i.config.max+ +i.config.min-+i.config.value),i.level.animate({pki:[t,i.config.min,i.config.max,i.params.widgetW,i.params.widgetH,i.params.dx,i.params.dy,i.config.gaugeWidthScale,i.config.donut,i.config.reverse],fill:o},i.config.refreshAnimationTime,i.config.refreshAnimationType),i.config.pointer&&i.needle.animate({ndl:[t,i.config.min,i.config.max,i.params.widgetW,i.params.widgetH,i.params.dx,i.params.dy,i.config.gaugeWidthScale,i.config.donut]},i.config.refreshAnimationTime,i.config.refreshAnimationType)},JustGage.prototype.generateShadow=function(t,e){var o=this,i="inner-shadow-"+o.config.id,n=document.createElementNS(t,"filter");n.setAttribute("id",i),e.appendChild(n),(e=document.createElementNS(t,"feOffset")).setAttribute("dx",0),e.setAttribute("dy",o.config.shadowVerticalOffset),n.appendChild(e),(e=document.createElementNS(t,"feGaussianBlur")).setAttribute("result","offset-blur"),e.setAttribute("stdDeviation",o.config.shadowSize),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","out"),e.setAttribute("in","SourceGraphic"),e.setAttribute("in2","offset-blur"),e.setAttribute("result","inverse"),n.appendChild(e),(e=document.createElementNS(t,"feFlood")).setAttribute("flood-color","black"),e.setAttribute("flood-opacity",o.config.shadowOpacity),e.setAttribute("result","color"),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","in"),e.setAttribute("in","color"),e.setAttribute("in2","inverse"),e.setAttribute("result","shadow"),n.appendChild(e),(e=document.createElementNS(t,"feComposite")).setAttribute("operator","over"),e.setAttribute("in","shadow"),e.setAttribute("in2","SourceGraphic"),n.appendChild(e),o.config.hideInnerShadow||(o.canvas.canvas.childNodes[2].setAttribute("filter","url(#"+i+")"),o.canvas.canvas.childNodes[3].setAttribute("filter","url(#"+i+")"))};var ie=function(){for(var t=3,e=document.createElement("div"),o=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",o[0];);return 4<t?t:void 0}();function extend(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var o in arguments[e])arguments[e].hasOwnProperty(o)&&(t[o]=arguments[e][o]);return t}