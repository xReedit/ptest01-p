!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(A,F){A.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},az:{selected:"Seçildi:",day:" gün",days:" gün",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},cn:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",apply:"Zavřít","week-1":"po","week-2":"út","week-3":"st","week-4":"čt","week-5":"pá","week-6":"so","week-7":"ne","month-name":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Dia",days:"Dias",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no deberia ser mayor de %d dias","more-than":"El rango no deberia ser menor de %d dias","default-more":"Por favor selecciona un rango mayor a %d dias","default-single":"Por favor selecciona un dia","default-less":"Por favor selecciona un rango menor a %d dias","default-range":"Por favor selecciona un rango entre %d y %d dias","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiválasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortcuts:"Gyorsválasztó",past:"Múlt",following:"Következő",previous:"Előző","prev-week":"Hét","prev-month":"Hónap","prev-year":"Év",next:"Következő","next-week":"Hét","next-month":"Hónap","next-year":"Év","less-than":"A kiválasztás nem lehet több %d napnál","more-than":"A kiválasztás nem lehet több %d napnál","default-more":"Válassz ki egy időszakot ami hosszabb mint %d nap","default-single":"Válassz egy napot","default-less":"Válassz ki egy időszakot ami rövidebb mint %d nap","default-range":"Válassz ki egy %d - %d nap hosszú időszakot","default-default":"Válassz ki egy időszakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lø","week-7":"sø","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"Følger",previous:"Forrige","prev-week":"Uke","prev-month":"Måned","prev-year":"År",next:"Neste","next-week":"Uke","next-month":"Måned","next-year":"År","less-than":"Datoperioden skal ikkje være lengre enn %d dager","more-than":"Datoperioden skal ikkje være kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","october","november","december"],shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",minute:"Minuut"},ru:{selected:"Выбрано:",day:"День",days:"Дней",apply:"Закрыть","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"вс","month-name":["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],shortcuts:"Быстрый выбор",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон"},pl:{selected:"Wybrany:",day:"Dzień",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"śr","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],shortcuts:"Skróty","custom-values":"Niestandardowe wartości",past:"Przeszłe",following:"Następne",previous:"Poprzednie","prev-week":"tydzień","prev-month":"miesiąc","prev-year":"rok",next:"Następny","next-week":"tydzień","next-month":"miesiąc","next-year":"rok","less-than":"Okres nie powinien być dłuższy niż %d dni","more-than":"Okres nie powinien być krótszy niż  %d ni","default-more":"Wybierz okres dłuższy niż %d dni","default-single":"Wybierz datę","default-less":"Wybierz okres krótszy niż %d dni","default-range":"Wybierz okres trwający od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"}},A.fn.dateRangePicker=function(c){c=c||{},(c=A.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return A(this).val()},setValue:function(e){A(this).attr("readonly")||A(this).is(":disabled")||e==A(this).val()||A(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(e,t,a){return 1<e?e+" "+V("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return F(e).format("w")}},c)).start=!1,c.end=!1,c.startWeek=!1,c.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,c.isTouchDevice&&(c.hoveringTooltip=!1),"auto"==c.singleMonth&&(c.singleMonth=A(window).width()<480),c.singleMonth&&(c.stickyMonths=!1),c.singleDate&&(c.singleMonth=!0),c.showTopbar||(c.autoClose=!0),c.startDate&&"string"==typeof c.startDate&&(c.startDate=F(c.startDate,c.format).toDate()),c.endDate&&"string"==typeof c.endDate&&(c.endDate=F(c.endDate,c.format).toDate());var d,e,s=function(){{if("auto"!=c.language)return c.language&&c.language in A.dateRangePickerLanguages?A.dateRangePickerLanguages[c.language]:A.dateRangePickerLanguages.default;if(t=navigator.language||navigator.browserLanguage){var e,t=t.toLowerCase();for(e in A.dateRangePickerLanguages)if(-1!=t.indexOf(e))return A.dateRangePickerLanguages[e]}return A.dateRangePickerLanguages.default}}(),n=!1,r=this,i=A(r).get(0);return A(this).unbind(".datepicker").bind("click.datepicker",function(e){d.is(":visible")||a(c.duration)}).bind("change.datepicker",function(e){o()}).bind("keyup.datepicker",function(){try{clearTimeout(e)}catch(e){}e=setTimeout(function(){o()},2e3)}),function(){var e,a=this;A(this).data("date-picker-opened")?Y():(A(this).data("date-picker-opened",!0),(d=function(){var e='<div class="date-picker-wrapper';c.extraClass&&(e+=" "+c.extraClass+" ");c.singleDate&&(e+=" single-date ");c.showShortcuts||(e+=" no-shortcuts ");c.showTopbar||(e+=" no-topbar ");c.customTopBar&&(e+=" custom-topbar ");e+='">',c.showTopbar&&(e+='<div class="drp_top-bar">',c.customTopBar?("function"==typeof c.customTopBar&&(c.customTopBar=c.customTopBar()),e+='<div class="custom-top">'+c.customTopBar+"</div>"):(e+='<div class="normal-top">\t\t\t\t\t\t\t<span style="color:#333">'+V("selected")+' </span> <b class="start-day">...</b>',c.singleDate||(e+=' <span class="separator-day">'+c.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+V("days")+")</i>"),e+='</div><div class="error-top">error</div>\t\t\t\t\t\t<div class="default-top">default</div>'),e=e+('<input type="button" class="apply-btn disabled'+function(){var e="";!0===c.autoClose&&(e+=" hide");""!==c.applyBtnClass&&(e+=" "+c.applyBtnClass);return e}()+'" value="'+V("apply"))+'" /></div>');var t=c.showWeekNumbers?6:5;e+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+t+'" class="month-name"></th><th style="width:27px;">'+(c.singleDate||!c.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+B()+"</thead><tbody></tbody></table>",c.singleDate||c.singleMonth||(e+='<div class="gap">'+function(){for(var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],t=0;t<20;t++)e.push('<div class="gap-line">\t\t\t\t\t<div class="gap-1"></div>\t\t\t\t\t<div class="gap-2"></div>\t\t\t\t\t<div class="gap-3"></div>\t\t\t\t</div>');return e.push("</div>"),e.join("")}()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(c.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="'+t+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+B()+"</thead><tbody></tbody></table>");e+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',c.singleDate||(e+='<div class="time2"></div>');if(e+='</div><div style="clear:both;height:0;font-size:0;"></div></div><div class="footer">',c.showShortcuts){e+='<div class="shortcuts"><b>'+V("shortcuts")+"</b>";var a=c.shortcuts;if(a){if(a["prev-days"]&&0<a["prev-days"].length){e+='&nbsp;<span class="prev-days">'+V("past");for(var n=0;n<a["prev-days"].length;n++){var s=a["prev-days"][n];s+=1<a["prev-days"][n]?V("days"):V("day"),e+=' <a href="javascript:;" shortcut="day,-'+a["prev-days"][n]+'">'+s+"</a>"}e+="</span>"}if(a["next-days"]&&0<a["next-days"].length){e+='&nbsp;<span class="next-days">'+V("following");for(n=0;n<a["next-days"].length;n++){s=a["next-days"][n];s+=1<a["next-days"][n]?V("days"):V("day"),e+=' <a href="javascript:;" shortcut="day,'+a["next-days"][n]+'">'+s+"</a>"}e+="</span>"}if(a.prev&&0<a.prev.length){e+='&nbsp;<span class="prev-buttons">'+V("previous");for(n=0;n<a.prev.length;n++){s=V("prev-"+a.prev[n]);e+=' <a href="javascript:;" shortcut="prev,'+a.prev[n]+'">'+s+"</a>"}e+="</span>"}if(a.next&&0<a.next.length){e+='&nbsp;<span class="next-buttons">'+V("next");for(n=0;n<a.next.length;n++){s=V("next-"+a.next[n]);e+=' <a href="javascript:;" shortcut="next,'+a.next[n]+'">'+s+"</a>"}e+="</span>"}}if(c.customShortcuts)for(n=0;n<c.customShortcuts.length;n++){var r=c.customShortcuts[n];e+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+r.name+"</a></span>"}e+="</div>"}if(c.showCustomValues&&(e+='<div class="customValues"><b>'+(c.customValueLabel||V("custom-values"))+"</b>",c.customValues))for(n=0;n<c.customValues.length;n++){var i=c.customValues[n];e+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+i.value+'">'+i.name+"</a></span>"}return A(e+="</div></div>")}().hide()).append('<div class="date-range-length-tip"></div>'),d.delegate(".day","mouseleave",function(){d.find(".date-range-length-tip").hide()}),A(c.container).append(d),c.inline?d.addClass("inline-wrapper"):t(),c.alwaysOpen&&d.find(".apply-btn").hide(),e=c.defaultTime||new Date,c.lookBehind?(c.startDate&&j(e,c.startDate)<0&&(e=I(F(c.startDate).toDate())),z(W(e=c.endDate&&0<j(e,c.endDate)?F(c.endDate).toDate():e),"month1"),z(e,"month2")):(c.startDate&&j(e,c.startDate)<0&&(e=F(c.startDate).toDate()),z(e=c.endDate&&0<j(I(e),c.endDate)?W(F(c.endDate).toDate()):e,"month1"),z(I(e),"month2")),c.singleDate&&(c.startDate&&j(e,c.startDate)<0&&(e=F(c.startDate).toDate()),z(e=c.endDate&&0<j(e,c.endDate)?F(c.endDate).toDate():e,"month1")),c.time.enabled&&(c.startDate&&c.endDate||c.start&&c.end?(C(F(c.start||c.startDate).toDate(),"time1"),C(F(c.end||c.endDate).toDate(),"time2")):(C(e,"time1"),C(e,"time2"))),e="",e=c.singleDate?V("default-single"):c.minDays&&c.maxDays?V("default-range"):c.minDays?V("default-more"):c.maxDays?V("default-less"):V("default-default"),d.find(".default-top").html(e.replace(/\%d/,c.minDays).replace(/\%d/,c.maxDays)),c.singleMonth?d.addClass("single-month"):d.addClass("two-months"),setTimeout(function(){l(),n=!0},0),d.click(function(e){e.stopPropagation()}),A(document).bind("click.datepicker",function(e){var t;e=e,t=a[0],e.target==t||null!=t.childNodes&&0<=A.inArray(e.target,t.childNodes)||d.is(":visible")&&Y()}),d.find(".next").click(function(){var e,t;c.stickyMonths?(e=I(c.month1),P(t=I(c.month2))||!c.singleDate&&0<=j(e,t)||(z(e,"month1"),z(t,"month2"),M())):(e=A(e=this).parents("table").hasClass("month2"),t=I(t=e?c.month2:c.month1),!c.singleMonth&&!c.singleDate&&!e&&0<=j(t,c.month2)||P(t)||(z(t,e?"month2":"month1"),O()))}),d.find(".prev").click(function(){var e,t;c.stickyMonths?(t=W(c.month1),e=W(c.month2),P(t)||!c.singleDate&&j(e,t)<=0||(z(e,"month2"),z(t,"month1"),M())):(e=A(e=this).parents("table").hasClass("month2"),t=W(t=e?c.month2:c.month1),e&&j(t,c.month1)<=0||P(t)||(z(t,e?"month2":"month1"),O()))}),d.delegate(".day","click",function(e){var t,a;(t=A(this)).hasClass("invalid")||(a=t.attr("time"),t.addClass("checked"),c.singleDate?(c.start=a,c.end=!1):"week"===c.batchMode?"monday"===c.startOfWeek?(c.start=F(parseInt(a)).startOf("isoweek").valueOf(),c.end=F(parseInt(a)).endOf("isoweek").valueOf()):(c.end=F(parseInt(a)).endOf("week").valueOf(),c.start=F(parseInt(a)).startOf("week").valueOf()):"workweek"===c.batchMode?(c.start=F(parseInt(a)).day(1).valueOf(),c.end=F(parseInt(a)).day(5).valueOf()):"weekend"===c.batchMode?(c.start=F(parseInt(a)).day(6).valueOf(),c.end=F(parseInt(a)).day(7).valueOf()):"month"===c.batchMode?(c.start=F(parseInt(a)).startOf("month").valueOf(),c.end=F(parseInt(a)).endOf("month").valueOf()):c.start&&c.end||!c.start&&!c.end?(c.start=p(a),c.end=!1):c.start&&(c.end=f(a),c.time.enabled)&&m("end",c.end),c.time.enabled&&(c.start&&m("start",c.start),c.end)&&m("end",c.end),!c.singleDate&&c.start&&c.end&&c.start>c.end&&(a=c.end,c.end=f(c.start),c.start=p(a),c.time.enabled)&&c.swapTime&&(u("time1",c.start),u("time2",c.end)),c.start=parseInt(c.start),c.end=parseInt(c.end),d.find(".day.hovering").removeClass("hovering"),d.find(".date-range-length-tip").hide(),c.start&&!c.end&&(A(r).trigger("datepicker-first-date-selected",{date1:new Date(c.start)}),y(t)),g(),w(),b(),M(),k())}),d.delegate(".day","mouseenter",function(e){y(A(this))}),d.delegate(".week-number","click",function(e){var t,a,n=A(this),s=parseInt(n.attr("data-start-time"),10);c.startWeek?(d.find(".week-number-selected").removeClass("week-number-selected"),a=new Date(s<c.startWeek?s:c.startWeek),t=new Date(s<c.startWeek?c.startWeek:s),c.startWeek=!1,c.start=F(a).day("monday"==c.startOfWeek?1:0).toDate(),c.end=F(t).day("monday"==c.startOfWeek?7:6).toDate()):(c.startWeek=s,n.addClass("week-number-selected"),a=new Date(s),c.start=F(a).day("monday"==c.startOfWeek?1:0).toDate(),c.end=F(a).day("monday"==c.startOfWeek?7:6).toDate()),g(),w(),b(),M(),k()}),d.attr("unselectable","on").css("user-select","none").bind("selectstart",function(e){return e.preventDefault(),!1}),d.find(".apply-btn").click(function(){Y();var e=T(new Date(c.start))+c.separator+T(new Date(c.end));A(a).trigger("datepicker-apply",{value:e,date1:new Date(c.start),date2:new Date(c.end)})}),d.find("[custom]").click(function(){var e=A(this).attr("custom");c.start=!1,c.end=!1,d.find(".day.checked").removeClass("checked"),c.setValue.call(i,e),w(),b(!0),M(),c.autoClose&&Y()}),d.find("[shortcut]").click(function(){var e,t=A(this).attr("shortcut"),a=new Date,n=!1;if(-1!=t.indexOf("day"))var s=parseInt(t.split(",",2)[1],10),n=new Date((new Date).getTime()+864e5*s),a=new Date(a.getTime()+864e5*(0<s?1:-1));else if(-1!=t.indexOf("week")){for(e=1==(r=-1!=t.indexOf("prev,")?-1:1)?"monday"==c.startOfWeek?1:0:"monday"==c.startOfWeek?0:6,a=new Date(a.getTime()-864e5);a.getDay()!=e;)a=new Date(a.getTime()+864e5*r);n=new Date(a.getTime()+864e5*r*6)}else if(-1!=t.indexOf("month"))(n=(1==(r=-1!=t.indexOf("prev,")?-1:1)?I:W)(a)).setDate(1),(a=I(n)).setDate(1),a=new Date(a.getTime()-864e5);else if(-1!=t.indexOf("year")){var r=-1!=t.indexOf("prev,")?-1:1;(n=new Date).setFullYear(a.getFullYear()+r),n.setMonth(0),n.setDate(1),a.setFullYear(a.getFullYear()+r),a.setMonth(11),a.setDate(31)}else if("custom"==t){var i=A(this).html();if(c.customShortcuts&&0<c.customShortcuts.length)for(var o=0;o<c.customShortcuts.length;o++){var d=c.customShortcuts[o];if(d.name==i){(d=d.dates.call())&&2==d.length&&(n=d[0],a=d[1]),d&&1==d.length&&(z(movetodate=d[0],"month1"),z(I(movetodate),"month2"),O());break}}}n&&a&&(x(n,a),w())}),d.find(".time1 input[type=range]").bind("change mousemove",function(e){e=e.target;h("time1","hour"==e.name?A(e).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==e.name?A(e).val().replace(/^(\d{1})$/,"0$1"):void 0)}),d.find(".time2 input[type=range]").bind("change mousemove",function(e){e=e.target;h("time2","hour"==e.name?A(e).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==e.name?A(e).val().replace(/^(\d{1})$/,"0$1"):void 0)}))}.call(this),c.alwaysOpen&&a(0),A(this).data("dateRangePicker",{setDateRange:function(e,t,a){"string"==typeof e&&"string"==typeof t&&(e=F(e,c.format).toDate(),t=F(t,c.format).toDate()),x(e,t,a)},clear:function(){c.start=!1,c.end=!1,d.find(".day.checked").removeClass("checked"),d.find(".day.last-date-selected").removeClass("last-date-selected"),d.find(".day.first-date-selected").removeClass("first-date-selected"),c.setValue.call(i,""),w(),b(),M()},close:Y,open:a,getDatePicker:function(){return d},destroy:function(){A(r).unbind(".datepicker"),A(r).data("dateRangePicker",""),A(r).data("date-picker-opened",null),d.remove(),A(window).unbind("resize.datepicker",t),A(document).unbind("click.datepicker",Y)}}),A(window).bind("resize.datepicker",t),this;function t(){var e,t;c.inline||(e=A(r).offset(),"relative"==A(c.container).css("position")?(t=A(c.container).offset(),d.css({top:e.top-t.top+A(r).outerHeight()+4,left:e.left-t.left})):e.left<460?d.css({top:e.top+A(r).outerHeight()+parseInt(A("body").css("border-top")||0,10),left:e.left}):d.css({top:e.top+A(r).outerHeight()+parseInt(A("body").css("border-top")||0,10),left:e.left+A(r).width()-d.width()-16}))}function a(e){t(),o(),d.slideDown(e,function(){A(r).trigger("datepicker-opened",{relatedTarget:d})}),A(r).trigger("datepicker-open",{relatedTarget:d}),O(),l()}function o(){var e,t=c.getValue.call(i),t=t?t.split(c.separator):"";t&&(1==t.length&&c.singleDate||2<=t.length)&&((e=c.format).match(/Do/)&&(e=e.replace(/Do/,"D"),t[0]=t[0].replace(/(\d+)(th|nd|st)/,"$1"),2<=t.length)&&(t[1]=t[1].replace(/(\d+)(th|nd|st)/,"$1")),n=!1,2<=t.length?x(F(t[0],e,F.locale(c.language)).toDate(),F(t[1],e,F.locale(c.language)).toDate()):1==t.length&&c.singleDate&&(t=F(t[0],e,F.locale(c.language)).toDate(),e=!0,c.startDate&&S(t,c.startDate)<0&&(e=!1),(e=c.endDate&&0<S(t,c.endDate)?!1:e)?(c.start=t.getTime(),c.time.enabled&&u("time1",t),z(t,"month1"),O(),b(),k()):z(c.startDate,"month1")),n=!0)}function l(){var e=(e=d.find(".gap").css("margin-left"))&&parseInt(e),t=d.find(".month1").width(),e=d.find(".gap").width()+(e?2*e:0),a=d.find(".month2").width();d.find(".month-wrapper").width(t+e+a)}function u(e,t){d.find("."+e+" input[type=range].hour-range").val(F(t).hours()),d.find("."+e+" input[type=range].minute-range").val(F(t).minutes()),h(e,F(t).format("HH"),F(t).format("mm"))}function m(e,t){c[e]=parseInt(F(parseInt(t)).startOf("day").add(F(c[e+"Time"]).format("HH"),"h").add(F(c[e+"Time"]).format("mm"),"m").valueOf())}function h(e,s,r){switch(s&&d.find("."+e+" .hour-val").text(s),r&&d.find("."+e+" .minute-val").text(r),e){case"time1":c.start&&t("start",F(c.start)),t("startTime",F(c.startTime||F().valueOf()));break;case"time2":c.end&&t("end",F(c.end)),t("endTime",F(c.endTime||F().valueOf()))}function t(e,t){var a=t.format("HH"),n=t.format("mm");c[e]=t.startOf("day").add(s||a,"h").add(r||n,"m").valueOf()}w(),b(),M()}function p(e){var t=e;return"week-range"===c.batchMode?t=("monday"===c.startOfWeek?F(parseInt(e)).startOf("isoweek"):F(parseInt(e)).startOf("week")).valueOf():"month-range"===c.batchMode&&(t=F(parseInt(e)).startOf("month").valueOf()),t}function f(e){var t=e;return"week-range"===c.batchMode?t=("monday"===c.startOfWeek?F(parseInt(e)).endOf("isoweek"):F(parseInt(e)).endOf("week")).valueOf():"month"===c.batchMode&&(t=F(parseInt(e)).endOf("month").valueOf()),t}function v(e){if(e=parseInt(e,10),c.startDate&&S(e,c.startDate)<0)return!1;if(c.endDate&&0<S(e,c.endDate))return!1;if(c.start&&!c.end&&!c.singleDate){if(0<c.maxDays&&D(e,c.start)>c.maxDays)return!1;if(0<c.minDays&&D(e,c.start)<c.minDays)return!1;if(c.selectForward&&e<c.start)return!1;if(c.selectBackward&&e>c.start)return!1;if(c.beforeShowDay&&"function"==typeof c.beforeShowDay){for(var t=!0,a=e;1<D(a,c.start);){if(!c.beforeShowDay(new Date(a))[0]){t=!1;break}a>c.start&&(a-=864e5),a<c.start&&(a+=864e5)}if(!t)return!1}}return!0}function g(){d.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),c.start&&!c.end&&d.find(".day.toMonth.valid").each(function(){v(parseInt(A(this).attr("time"),10))?A(this).addClass("valid tmp").removeClass("invalid"):A(this).addClass("invalid tmp").removeClass("valid")})}function y(e){var t,a,n,s,r,i=parseInt(e.attr("time")),o="";e.hasClass("has-tooltip")&&e.attr("data-tooltip")?o='<span style="white-space:nowrap">'+e.attr("data-tooltip")+"</span>":e.hasClass("invalid")||(c.singleDate?(d.find(".day.hovering").removeClass("hovering"),e.addClass("hovering")):(d.find(".day").each(function(){var e=parseInt(A(this).attr("time"));c.start,c.end;e==i?A(this).addClass("hovering"):A(this).removeClass("hovering"),c.start&&!c.end&&(c.start<e&&e<=i||c.start>e&&i<=e)?A(this).addClass("hovering"):A(this).removeClass("hovering")}),c.start&&!c.end&&(s=D(i,c.start),c.hoveringTooltip)&&("function"==typeof c.hoveringTooltip?o=c.hoveringTooltip(s,c.start,i):!0===c.hoveringTooltip&&1<s&&(o=s+" "+V("days"))))),o?(s=e.offset(),r=d.offset(),t=s.left-r.left,a=s.top-r.top,t+=e.width()/2,s=(n=d.find(".date-range-length-tip")).css({visibility:"hidden",display:"none"}).html(o).width(),r=n.height(),t-=s/2,a-=r,setTimeout(function(){n.css({left:t,top:a,display:"block",visibility:"visible"})},10)):d.find(".date-range-length-tip").hide()}function k(){!0===c.singleDate?n&&c.start&&c.autoClose&&Y():n&&c.start&&c.end&&c.autoClose&&Y()}function w(){var e=Math.ceil((c.end-c.start)/864e5)+1;c.singleDate?c.start&&!c.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal"):c.maxDays&&e>c.maxDays?(c.start=!1,c.end=!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(V("less-than").replace("%d",c.maxDays))):c.minDays&&e<c.minDays?(c.start=!1,c.end=!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(V("more-than").replace("%d",c.minDays))):c.start||c.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal"),c.singleDate&&c.start&&!c.end||!c.singleDate&&c.start&&c.end?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled"),c.batchMode&&(c.start&&c.startDate&&S(c.start,c.startDate)<0||c.end&&c.endDate&&0<S(c.end,c.endDate))&&(c.start=!1,c.end=!1,d.find(".day").removeClass("checked"))}function b(e,t){var a;d.find(".start-day").html("..."),d.find(".end-day").html("..."),d.find(".selected-days").hide(),c.start&&d.find(".start-day").html(T(new Date(parseInt(c.start)))),c.end&&d.find(".end-day").html(T(new Date(parseInt(c.end)))),c.start&&c.singleDate?(d.find(".apply-btn").removeClass("disabled"),a=T(new Date(c.start)),c.setValue.call(i,a,T(new Date(c.start)),T(new Date(c.end))),n&&!t&&A(r).trigger("datepicker-change",{value:a,date1:new Date(c.start)})):c.start&&c.end?(d.find(".selected-days").show().find(".selected-days-num").html(D(c.end,c.start)),d.find(".apply-btn").removeClass("disabled"),a=T(new Date(c.start))+c.separator+T(new Date(c.end)),c.setValue.call(i,a,T(new Date(c.start)),T(new Date(c.end))),n&&!t&&A(r).trigger("datepicker-change",{value:a,date1:new Date(c.start),date2:new Date(c.end)})):e?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled")}function D(e,t){return Math.abs(L(e)-L(t))+1}function x(e,t,a){e.getTime()>t.getTime()&&(n=t,t=e,e=n,n=null);var n=!0;c.startDate&&S(e,c.startDate)<0&&(n=!1),((n=!(c.endDate&&0<S(t,c.endDate))&&n)?(c.start=e.getTime(),c.end=t.getTime(),c.time.enabled&&(u("time1",e),u("time2",t)),(c.stickyMonths||0<S(e,t)&&0==j(e,t))&&(c.lookBehind?e=W(t):t=I(e)),c.stickyMonths&&0<j(t,c.endDate)&&(e=W(e),t=W(t)),c.stickyMonths||0==j(e,t)&&(c.lookBehind?e=W(t):t=I(e)),z(e,"month1"),z(t,"month2"),O(),w(),b(!1,a),k):(z(c.startDate,"month1"),z(I(c.startDate),"month2"),O))()}function M(){(c.start||c.end)&&(d.find(".day").each(function(){var e=parseInt(A(this).attr("time")),t=c.start,a=c.end;c.time.enabled&&(e=F(e).startOf("day").valueOf(),t=F(t||F().valueOf()).startOf("day").valueOf(),a=F(a||F().valueOf()).startOf("day").valueOf()),c.start&&c.end&&e<=a&&t<=e||c.start&&!c.end&&F(t).format("YYYY-MM-DD")==F(e).format("YYYY-MM-DD")?A(this).addClass("checked"):A(this).removeClass("checked"),c.start&&F(t).format("YYYY-MM-DD")==F(e).format("YYYY-MM-DD")?A(this).addClass("first-date-selected"):A(this).removeClass("first-date-selected"),c.end&&F(a).format("YYYY-MM-DD")==F(e).format("YYYY-MM-DD")?A(this).addClass("last-date-selected"):A(this).removeClass("last-date-selected")}),d.find(".week-number").each(function(){A(this).attr("data-start-time")==c.startWeek&&A(this).addClass("week-number-selected")}))}function z(e,t){e=F(e).toDate();a=e.getMonth();var a=V("month-name")[a];d.find("."+t+" .month-name").html(a+" "+e.getFullYear()),d.find("."+t+" tbody").html(function(e){var t=[],a=(e.setDate(1),new Date(e.getTime()-864e5),new Date),n=e.getDay();0==n&&"monday"==c.startOfWeek&&(n=7);if(0<n)for(var s=n;0<s;s--){var r=v((l=new Date(e.getTime()-864e5*s)).getTime());c.startDate&&S(l,c.startDate)<0&&(r=!1),c.endDate&&0<S(l,c.endDate)&&(r=!1),t.push({date:l,type:"lastMonth",day:l.getDate(),time:l.getTime(),valid:r})}for(var i=e.getMonth(),s=0;s<40;s++){r=v((u=F(e).add(s,"days").toDate()).getTime());c.startDate&&S(u,c.startDate)<0&&(r=!1),c.endDate&&0<S(u,c.endDate)&&(r=!1),t.push({date:u,type:u.getMonth()==i?"toMonth":"nextMonth",day:u.getDate(),time:u.getTime(),valid:r})}for(var o=[],d=0;d<6&&"nextMonth"!=t[7*d].type;d++){o.push("<tr>");for(var l=0;l<7;l++){var u,m="monday"==c.startOfWeek?l+1:l,m=F((u=t[7*d+m]).time).format("L")==F(a).format("L"),h=(u.extraClass="",u.tooltip="",u.valid&&c.beforeShowDay&&"function"==typeof c.beforeShowDay&&(h=c.beforeShowDay(F(u.time).toDate()),u.valid=h[0],u.extraClass=h[1]||"",u.tooltip=h[2]||"",""!=u.tooltip)&&(u.extraClass+=" has-tooltip "),{time:u.time,"data-tooltip":u.tooltip,class:"day "+u.type+" "+u.extraClass+" "+(u.valid?"valid":"invalid")+" "+(m?"real-today":"")});0==l&&c.showWeekNumbers&&o.push('<td><div class="week-number" data-start-time="'+u.time+'">'+c.getWeekNumber(u.date)+"</div></td>"),o.push("<td "+N({},c.dayTdAttrs,u)+"><div "+N(h,c.dayDivAttrs,u)+">"+function(e,t){return c.showDateFilter&&"function"==typeof c.showDateFilter?c.showDateFilter(e,t):t}(u.time,u.day)+"</div></td>")}o.push("</tr>")}return o.join("")}(e)),c[t]=e,g()}function C(e,t){d.find("."+t).append("<div>\t\t\t\t\t\t<span>"+V("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span>\t\t\t\t\t</div>\t\t\t\t\t<div class="hour">\t\t\t\t\t\t<label>'+V("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label>\t\t\t\t\t</div>\t\t\t\t\t<div class="minute">\t\t\t\t\t\t<label>'+V("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label>\t\t\t\t\t</div>'),u(t,e)}function T(e){return F(e).format(c.format)}function O(){M();var e=parseInt(F(c.month1).format("YYYYMM")),t=parseInt(F(c.month2).format("YYYYMM")),e=Math.abs(e-t),t=(1<e&&89!=e?d.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):d.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden"),d.find("table.month1").height()),e=d.find("table.month2").height();d.find(".gap").height(Math.max(t,e)+10)}function Y(){c.alwaysOpen||(A(d).slideUp(c.duration,function(){A(r).data("date-picker-opened",!1),A(r).trigger("datepicker-closed",{relatedTarget:d})}),A(r).trigger("datepicker-close",{relatedTarget:d}))}function j(e,t){e=parseInt(F(e).format("YYYYMM"))-parseInt(F(t).format("YYYYMM"));return 0<e?1:0==e?0:-1}function S(e,t){e=parseInt(F(e).format("YYYYMMDD"))-parseInt(F(t).format("YYYYMMDD"));return 0<e?1:0==e?0:-1}function I(e){return F(e).add(1,"months").toDate()}function W(e){return F(e).add(-1,"months").toDate()}function B(){var e=c.showWeekNumbers?"<th>"+V("week-number")+"</th>":"";return"monday"==c.startOfWeek?e+"<th>"+V("week-1")+"</th>\t\t\t\t\t<th>"+V("week-2")+"</th>\t\t\t\t\t<th>"+V("week-3")+"</th>\t\t\t\t\t<th>"+V("week-4")+"</th>\t\t\t\t\t<th>"+V("week-5")+"</th>\t\t\t\t\t<th>"+V("week-6")+"</th>\t\t\t\t\t<th>"+V("week-7")+"</th>":e+"<th>"+V("week-7")+"</th>\t\t\t\t\t<th>"+V("week-1")+"</th>\t\t\t\t\t<th>"+V("week-2")+"</th>\t\t\t\t\t<th>"+V("week-3")+"</th>\t\t\t\t\t<th>"+V("week-4")+"</th>\t\t\t\t\t<th>"+V("week-5")+"</th>\t\t\t\t\t<th>"+V("week-6")+"</th>"}function P(e){e=F(e);return c.startDate&&e.endOf("month").isBefore(c.startDate)||!(!c.endDate||!e.startOf("month").isAfter(c.endDate))}function N(e,t,s){var a,r=jQuery.extend(!0,{},e),n=(jQuery.each(t,function(e,t){var a,n=t(s);for(a in n)r.hasOwnProperty(a)?r[a]+=n[a]:r[a]=n[a]}),"");for(a in r)r.hasOwnProperty(a)&&(n+=a+'="'+r[a]+'" ');return n}function L(e){return Math.floor(function(e){F.isMoment(e)&&(e=e.toDate().getTime());"object"==typeof e&&e.getTime&&(e=e.getTime());"string"!=typeof e||e.match(/\d{13}/)||(e=F(e,c.format).toDate().getTime());return e=parseInt(e,10)-60*(new Date).getTimezoneOffset()*1e3}(e)/864e5)}function V(e){var t=e.toLowerCase(),a=e in s?s[e]:t in s?s[t]:null,n=A.dateRangePickerLanguages.default;return a=null==a?e in n?n[e]:t in n?n[t]:"":a}}});